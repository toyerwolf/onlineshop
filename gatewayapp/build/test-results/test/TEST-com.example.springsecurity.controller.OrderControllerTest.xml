<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="com.example.springsecurity.controller.OrderControllerTest" tests="5" skipped="0" failures="0" errors="0" timestamp="2024-07-30T06:29:52" hostname="E-AA-2Y5HDK3-L" time="19.288">
  <properties/>
  <testcase name="testMarkOrderAsDelivered()" classname="com.example.springsecurity.controller.OrderControllerTest" time="3.123"/>
  <testcase name="testMakeOrder_Success()" classname="com.example.springsecurity.controller.OrderControllerTest" time="3.766"/>
  <testcase name="testGetAllOrders()" classname="com.example.springsecurity.controller.OrderControllerTest" time="4.299"/>
  <testcase name="testMakeOrderForDiscountedProduct()" classname="com.example.springsecurity.controller.OrderControllerTest" time="4.266"/>
  <testcase name="testMakeOrderWithCard()" classname="com.example.springsecurity.controller.OrderControllerTest" time="3.832"/>
  <system-out><![CDATA[2024-07-30T10:29:49.550+04:00  INFO 2876 --- [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.springsecurity.controller.OrderControllerTest]: OrderControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-07-30T10:29:49.552+04:00  INFO 2876 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.springsecurity.GatewayappApplication for test class com.example.springsecurity.controller.OrderControllerTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.3)

2024-07-30T10:29:49.721+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.11 with PID 2876 (started by mameh1 in C:\Users\mameh1\Downloads\projects\spring-security\gatewayapp)
2024-07-30T10:29:49.721+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : The following 4 profiles are active: "db", "actuator", "google", "integration"
2024-07-30T10:29:50.162+04:00  INFO 2876 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-30T10:29:50.233+04:00  INFO 2876 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 12 JPA repository interfaces.
2024-07-30T10:29:50.272+04:00  INFO 2876 --- [    Test worker] o.s.cloud.context.scope.GenericScope     : BeanFactory id=fdf0a751-b714-323a-ae6a-061dba5ac89f
2024-07-30T10:29:50.296+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$LoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$LoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-07-30T10:29:50.297+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.298+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.300+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.301+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.301+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1032/0x000002791c5e3010] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.303+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.305+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'spring.cloud.loadbalancer-org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.306+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'default.org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.307+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'default.org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.307+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientFactory' of type [org.springframework.cloud.loadbalancer.support.LoadBalancerClientFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.308+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'blockingLoadBalancerClient' of type [org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.311+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerServiceInstanceCookieTransformer' of type [org.springframework.cloud.loadbalancer.core.LoadBalancerServiceInstanceCookieTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.312+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'xForwarderHeadersTransformer' of type [org.springframework.cloud.loadbalancer.blocking.XForwardedHeadersTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.313+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.314+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerRequestFactory' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerRequestFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.314+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.316+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-07-30T10:29:50.317+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.317+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:50.365+04:00  INFO 2876 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-07-30T10:29:50.366+04:00  INFO 2876 --- [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-30T10:29:50.366+04:00  INFO 2876 --- [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-07-30T10:29:50.421+04:00  INFO 2876 --- [    Test worker] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2024-07-30T10:29:50.421+04:00  INFO 2876 --- [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 698 ms
2024-07-30T10:29:50.520+04:00  INFO 2876 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-30T10:29:50.526+04:00  INFO 2876 --- [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-30T10:29:50.535+04:00  INFO 2876 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-30T10:29:50.537+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-21 - Starting...
2024-07-30T10:29:50.538+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-21 - Added connection conn200: url=jdbc:h2:mem:demo user=POSTGRES
2024-07-30T10:29:50.538+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-21 - Start completed.
2024-07-30T10:29:50.538+04:00  WARN 2876 --- [    Test worker] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-30T10:29:50.701+04:00  INFO 2876 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-30T10:29:50.701+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists category_test cascade 
Hibernate: 
    drop table if exists category_test cascade 
2024-07-30T10:29:50.702+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer cascade 
Hibernate: 
    drop table if exists customer cascade 
2024-07-30T10:29:50.703+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_discount cascade 
Hibernate: 
    drop table if exists customer_discount cascade 
2024-07-30T10:29:50.704+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_card_details cascade 
Hibernate: 
    drop table if exists customer_card_details cascade 
2024-07-30T10:29:50.705+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_product cascade 
Hibernate: 
    drop table if exists order_product cascade 
2024-07-30T10:29:50.705+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_test cascade 
Hibernate: 
    drop table if exists order_test cascade 
2024-07-30T10:29:50.705+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists payment cascade 
Hibernate: 
    drop table if exists payment cascade 
2024-07-30T10:29:50.706+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists product_test cascade 
Hibernate: 
    drop table if exists product_test cascade 
2024-07-30T10:29:50.706+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists rating cascade 
Hibernate: 
    drop table if exists rating cascade 
2024-07-30T10:29:50.706+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists users_test cascade 
Hibernate: 
    drop table if exists users_test cascade 
2024-07-30T10:29:50.706+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist cascade 
Hibernate: 
    drop table if exists wishlist cascade 
2024-07-30T10:29:50.706+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist_item cascade 
Hibernate: 
    drop table if exists wishlist_item cascade 
2024-07-30T10:29:50.706+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table category_test (
        is_deleted boolean not null,
        category_id bigint generated by default as identity,
        description varchar(255),
        name varchar(255),
        primary key (category_id)
    )
Hibernate: 
    create table category_test (
        is_deleted boolean not null,
        category_id bigint generated by default as identity,
        description varchar(255),
        name varchar(255),
        primary key (category_id)
    )
2024-07-30T10:29:50.712+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer (
        balance numeric(38,2),
        id bigint generated by default as identity,
        registered_at timestamp(6),
        user_id bigint unique,
        wishlist_id bigint unique,
        address varchar(255),
        name varchar(255),
        surname varchar(255),
        primary key (id)
    )
Hibernate: 
    create table customer (
        balance numeric(38,2),
        id bigint generated by default as identity,
        registered_at timestamp(6),
        user_id bigint unique,
        wishlist_id bigint unique,
        address varchar(255),
        name varchar(255),
        surname varchar(255),
        primary key (id)
    )
2024-07-30T10:29:50.716+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer_discount (
        dice_rolled boolean not null,
        die1 integer not null,
        die2 integer not null,
        discount numeric(38,2),
        discount_price numeric(38,2),
        customer_id bigint unique,
        expires_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id),
        unique (customer_id, product_id)
    )
Hibernate: 
    create table customer_discount (
        dice_rolled boolean not null,
        die1 integer not null,
        die2 integer not null,
        discount numeric(38,2),
        discount_price numeric(38,2),
        customer_id bigint unique,
        expires_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id),
        unique (customer_id, product_id)
    )
2024-07-30T10:29:50.717+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer_card_details (
        card_balance numeric(38,2),
        expiration_date date,
        customer_id bigint,
        id bigint generated by default as identity,
        card_number varchar(255) unique,
        cvv varchar(255),
        primary key (id)
    )
Hibernate: 
    create table customer_card_details (
        card_balance numeric(38,2),
        expiration_date date,
        customer_id bigint,
        id bigint generated by default as identity,
        card_number varchar(255) unique,
        cvv varchar(255),
        primary key (id)
    )
2024-07-30T10:29:50.718+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table order_product (
        quantity integer not null,
        id bigint generated by default as identity,
        order_id bigint,
        product_id bigint,
        product_name varchar(255),
        primary key (id)
    )
Hibernate: 
    create table order_product (
        quantity integer not null,
        id bigint generated by default as identity,
        order_id bigint,
        product_id bigint,
        product_name varchar(255),
        primary key (id)
    )
2024-07-30T10:29:50.719+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table order_test (
        is_paid boolean not null,
        total_amount numeric(38,2),
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        status varchar(255) check (status in ('DELIVERED','PENDING','CANCEL','PAID','AWAITING')),
        primary key (id)
    )
Hibernate: 
    create table order_test (
        is_paid boolean not null,
        total_amount numeric(38,2),
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        status varchar(255) check (status in ('DELIVERED','PENDING','CANCEL','PAID','AWAITING')),
        primary key (id)
    )
2024-07-30T10:29:50.720+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table payment (
        amount numeric(38,2),
        customer_id bigint,
        id bigint generated by default as identity,
        order_id bigint,
        payment_date timestamp(6),
        payment_status varchar(255) check (payment_status in ('CREDIT_CARD','DEBIT_CARD','PAYPAL','APPLE_PAY','GOOGLE_PAY')),
        primary key (id)
    )
Hibernate: 
    create table payment (
        amount numeric(38,2),
        customer_id bigint,
        id bigint generated by default as identity,
        order_id bigint,
        payment_date timestamp(6),
        payment_status varchar(255) check (payment_status in ('CREDIT_CARD','DEBIT_CARD','PAYPAL','APPLE_PAY','GOOGLE_PAY')),
        primary key (id)
    )
2024-07-30T10:29:50.721+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table product_test (
        discount numeric(38,2),
        discount_price numeric(38,2),
        is_deleted boolean not null,
        price numeric(38,2),
        quantity integer not null,
        category_id bigint,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        description varchar(255),
        image_url varchar(255),
        name varchar(255) unique,
        primary key (id)
    )
Hibernate: 
    create table product_test (
        discount numeric(38,2),
        discount_price numeric(38,2),
        is_deleted boolean not null,
        price numeric(38,2),
        quantity integer not null,
        category_id bigint,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        description varchar(255),
        image_url varchar(255),
        name varchar(255) unique,
        primary key (id)
    )
2024-07-30T10:29:50.724+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table rating (
        rating integer,
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id)
    )
Hibernate: 
    create table rating (
        rating integer,
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id)
    )
2024-07-30T10:29:50.725+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table users_test (
        locked boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        password varchar(255) unique,
        role varchar(255) check (role in ('USER','ADMIN')),
        username varchar(255),
        primary key (id)
    )
Hibernate: 
    create table users_test (
        locked boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        password varchar(255) unique,
        role varchar(255) check (role in ('USER','ADMIN')),
        username varchar(255),
        primary key (id)
    )
2024-07-30T10:29:50.728+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table wishlist (
        created_at timestamp(6),
        customer_id bigint unique,
        id bigint generated by default as identity,
        primary key (id)
    )
Hibernate: 
    create table wishlist (
        created_at timestamp(6),
        customer_id bigint unique,
        id bigint generated by default as identity,
        primary key (id)
    )
2024-07-30T10:29:50.730+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table wishlist_item (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        wishlist_id bigint,
        primary key (id)
    )
Hibernate: 
    create table wishlist_item (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        wishlist_id bigint,
        primary key (id)
    )
2024-07-30T10:29:50.731+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer 
       add constraint FKark4ctv4ntkwoy4noakb0d8ml 
       foreign key (user_id) 
       references users_test
Hibernate: 
    alter table if exists customer 
       add constraint FKark4ctv4ntkwoy4noakb0d8ml 
       foreign key (user_id) 
       references users_test
2024-07-30T10:29:50.732+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer 
       add constraint FKpkpd7h3y46hd6mdeg7wqvpr5c 
       foreign key (wishlist_id) 
       references wishlist
Hibernate: 
    alter table if exists customer 
       add constraint FKpkpd7h3y46hd6mdeg7wqvpr5c 
       foreign key (wishlist_id) 
       references wishlist
2024-07-30T10:29:50.733+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_discount 
       add constraint FK7dkdkmoy90h1bujr1rmanu0lv 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists customer_discount 
       add constraint FK7dkdkmoy90h1bujr1rmanu0lv 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:50.734+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_discount 
       add constraint FKtrcs0xnvyl8qc2df5y7ylkjx4 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists customer_discount 
       add constraint FKtrcs0xnvyl8qc2df5y7ylkjx4 
       foreign key (product_id) 
       references product_test
2024-07-30T10:29:50.734+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_card_details 
       add constraint FKmhdwuj27irdm4944qjnk0w85n 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists customer_card_details 
       add constraint FKmhdwuj27irdm4944qjnk0w85n 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:50.735+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_product 
       add constraint FKayh03vge4huu6s586xbfsykn9 
       foreign key (order_id) 
       references order_test
Hibernate: 
    alter table if exists order_product 
       add constraint FKayh03vge4huu6s586xbfsykn9 
       foreign key (order_id) 
       references order_test
2024-07-30T10:29:50.735+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_product 
       add constraint FKo602fm657h9jspk41f4gnmx22 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists order_product 
       add constraint FKo602fm657h9jspk41f4gnmx22 
       foreign key (product_id) 
       references product_test
2024-07-30T10:29:50.735+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_test 
       add constraint FK5sdaieho0j5cyeurhq25i4cec 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists order_test 
       add constraint FK5sdaieho0j5cyeurhq25i4cec 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:50.737+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists payment 
       add constraint FKby2skjf3ov608yb6nm16b49lg 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists payment 
       add constraint FKby2skjf3ov608yb6nm16b49lg 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:50.737+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists payment 
       add constraint FKhljpso7llgtyfun73rsnkkcqp 
       foreign key (order_id) 
       references order_test
Hibernate: 
    alter table if exists payment 
       add constraint FKhljpso7llgtyfun73rsnkkcqp 
       foreign key (order_id) 
       references order_test
2024-07-30T10:29:50.738+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists product_test 
       add constraint FK2hq85enq18gwx62b83r7bmaj8 
       foreign key (category_id) 
       references category_test
Hibernate: 
    alter table if exists product_test 
       add constraint FK2hq85enq18gwx62b83r7bmaj8 
       foreign key (category_id) 
       references category_test
2024-07-30T10:29:50.738+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists rating 
       add constraint FK92d54lg7br8t0wb68h23u4jkn 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists rating 
       add constraint FK92d54lg7br8t0wb68h23u4jkn 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:50.741+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists rating 
       add constraint FKkthk5w06fdouceg1vx51u26fh 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists rating 
       add constraint FKkthk5w06fdouceg1vx51u26fh 
       foreign key (product_id) 
       references product_test
2024-07-30T10:29:50.743+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist 
       add constraint FKb6xak0rjui1rsok8ll7ln59cs 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists wishlist 
       add constraint FKb6xak0rjui1rsok8ll7ln59cs 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:50.766+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist_item 
       add constraint FK5y7uu8ej8bpj54xbke3ak4x6 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists wishlist_item 
       add constraint FK5y7uu8ej8bpj54xbke3ak4x6 
       foreign key (product_id) 
       references product_test
2024-07-30T10:29:50.770+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist_item 
       add constraint FK5iw5sajivrxnt4qjxqlgo8yb1 
       foreign key (wishlist_id) 
       references wishlist
Hibernate: 
    alter table if exists wishlist_item 
       add constraint FK5iw5sajivrxnt4qjxqlgo8yb1 
       foreign key (wishlist_id) 
       references wishlist
2024-07-30T10:29:50.774+04:00  INFO 2876 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-30T10:29:51.100+04:00  WARN 2876 --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-30T10:29:51.401+04:00  INFO 2876 --- [    Test worker] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-07-30T10:29:51.697+04:00  INFO 2876 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 15 endpoint(s) beneath base path '/actuator'
2024-07-30T10:29:51.731+04:00  INFO 2876 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ba523a6, org.springframework.security.web.session.ForceEagerSessionCreationFilter@30954a22, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a65c69f, org.springframework.security.web.context.SecurityContextHolderFilter@7f951693, org.springframework.security.web.header.HeaderWriterFilter@1ec8560e, org.springframework.web.filter.CorsFilter@6caa55aa, org.springframework.security.web.authentication.logout.LogoutFilter@3afdeaff, com.example.springsecurity.security.JwtAuthenticationFilter@65769268, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1457e991, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a49ed70, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10102da1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ea0e38a, org.springframework.security.web.session.SessionManagementFilter@12eb958c, org.springframework.security.web.access.ExceptionTranslationFilter@385ca483, org.springframework.security.web.access.intercept.AuthorizationFilter@336c8e2a]
2024-07-30T10:29:52.082+04:00  WARN 2876 --- [    Test worker] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-07-30T10:29:52.106+04:00  INFO 2876 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 55472 (http) with context path ''
2024-07-30T10:29:52.349+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : Started OrderControllerTest in 2.794 seconds (process running for 86.17)
2024-07-30T10:29:52.366+04:00  INFO 2876 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-30T10:29:52.366+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists category_test cascade 
Hibernate: 
    drop table if exists category_test cascade 
2024-07-30T10:29:52.367+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer cascade 
Hibernate: 
    drop table if exists customer cascade 
2024-07-30T10:29:52.367+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_discount cascade 
Hibernate: 
    drop table if exists customer_discount cascade 
2024-07-30T10:29:52.367+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_card_details cascade 
Hibernate: 
    drop table if exists customer_card_details cascade 
2024-07-30T10:29:52.367+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_product cascade 
Hibernate: 
    drop table if exists order_product cascade 
2024-07-30T10:29:52.367+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_test cascade 
Hibernate: 
    drop table if exists order_test cascade 
2024-07-30T10:29:52.367+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists payment cascade 
Hibernate: 
    drop table if exists payment cascade 
2024-07-30T10:29:52.368+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists product_test cascade 
Hibernate: 
    drop table if exists product_test cascade 
2024-07-30T10:29:52.368+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists rating cascade 
Hibernate: 
    drop table if exists rating cascade 
2024-07-30T10:29:52.368+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists users_test cascade 
Hibernate: 
    drop table if exists users_test cascade 
2024-07-30T10:29:52.368+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist cascade 
Hibernate: 
    drop table if exists wishlist cascade 
2024-07-30T10:29:52.368+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist_item cascade 
Hibernate: 
    drop table if exists wishlist_item cascade 
2024-07-30T10:29:52.369+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-21 - Shutdown initiated...
2024-07-30T10:29:52.370+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-21 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.3)

2024-07-30T10:29:52.540+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.11 with PID 2876 (started by mameh1 in C:\Users\mameh1\Downloads\projects\spring-security\gatewayapp)
2024-07-30T10:29:52.540+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : The following 4 profiles are active: "db", "actuator", "google", "integration"
2024-07-30T10:29:53.080+04:00  INFO 2876 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-30T10:29:53.147+04:00  INFO 2876 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 12 JPA repository interfaces.
2024-07-30T10:29:53.187+04:00  INFO 2876 --- [    Test worker] o.s.cloud.context.scope.GenericScope     : BeanFactory id=fdf0a751-b714-323a-ae6a-061dba5ac89f
2024-07-30T10:29:53.212+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$LoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$LoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-07-30T10:29:53.213+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.214+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.215+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.216+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.216+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1032/0x000002791c5e3010] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.218+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.220+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'spring.cloud.loadbalancer-org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.222+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'default.org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.223+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'default.org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.223+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientFactory' of type [org.springframework.cloud.loadbalancer.support.LoadBalancerClientFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.225+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'blockingLoadBalancerClient' of type [org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.229+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerServiceInstanceCookieTransformer' of type [org.springframework.cloud.loadbalancer.core.LoadBalancerServiceInstanceCookieTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.231+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'xForwarderHeadersTransformer' of type [org.springframework.cloud.loadbalancer.blocking.XForwardedHeadersTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.231+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.233+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerRequestFactory' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerRequestFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.233+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.235+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-07-30T10:29:53.236+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.237+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:53.293+04:00  INFO 2876 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-07-30T10:29:53.294+04:00  INFO 2876 --- [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-30T10:29:53.294+04:00  INFO 2876 --- [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-07-30T10:29:53.354+04:00  INFO 2876 --- [    Test worker] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2024-07-30T10:29:53.354+04:00  INFO 2876 --- [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 813 ms
2024-07-30T10:29:53.477+04:00  INFO 2876 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-30T10:29:53.483+04:00  INFO 2876 --- [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-30T10:29:53.497+04:00  INFO 2876 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-30T10:29:53.499+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-22 - Starting...
2024-07-30T10:29:53.500+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-22 - Added connection conn210: url=jdbc:h2:mem:demo user=POSTGRES
2024-07-30T10:29:53.500+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-22 - Start completed.
2024-07-30T10:29:53.500+04:00  WARN 2876 --- [    Test worker] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-30T10:29:53.787+04:00  INFO 2876 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-30T10:29:53.787+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists category_test cascade 
Hibernate: 
    drop table if exists category_test cascade 
2024-07-30T10:29:53.787+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer cascade 
Hibernate: 
    drop table if exists customer cascade 
2024-07-30T10:29:53.788+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_discount cascade 
Hibernate: 
    drop table if exists customer_discount cascade 
2024-07-30T10:29:53.788+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_card_details cascade 
Hibernate: 
    drop table if exists customer_card_details cascade 
2024-07-30T10:29:53.788+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_product cascade 
Hibernate: 
    drop table if exists order_product cascade 
2024-07-30T10:29:53.788+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_test cascade 
Hibernate: 
    drop table if exists order_test cascade 
2024-07-30T10:29:53.788+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists payment cascade 
Hibernate: 
    drop table if exists payment cascade 
2024-07-30T10:29:53.788+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists product_test cascade 
Hibernate: 
    drop table if exists product_test cascade 
2024-07-30T10:29:53.788+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists rating cascade 
Hibernate: 
    drop table if exists rating cascade 
2024-07-30T10:29:53.788+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists users_test cascade 
Hibernate: 
    drop table if exists users_test cascade 
2024-07-30T10:29:53.788+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist cascade 
Hibernate: 
    drop table if exists wishlist cascade 
2024-07-30T10:29:53.788+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist_item cascade 
Hibernate: 
    drop table if exists wishlist_item cascade 
2024-07-30T10:29:53.789+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table category_test (
        is_deleted boolean not null,
        category_id bigint generated by default as identity,
        description varchar(255),
        name varchar(255),
        primary key (category_id)
    )
Hibernate: 
    create table category_test (
        is_deleted boolean not null,
        category_id bigint generated by default as identity,
        description varchar(255),
        name varchar(255),
        primary key (category_id)
    )
2024-07-30T10:29:53.789+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer (
        balance numeric(38,2),
        id bigint generated by default as identity,
        registered_at timestamp(6),
        user_id bigint unique,
        wishlist_id bigint unique,
        address varchar(255),
        name varchar(255),
        surname varchar(255),
        primary key (id)
    )
Hibernate: 
    create table customer (
        balance numeric(38,2),
        id bigint generated by default as identity,
        registered_at timestamp(6),
        user_id bigint unique,
        wishlist_id bigint unique,
        address varchar(255),
        name varchar(255),
        surname varchar(255),
        primary key (id)
    )
2024-07-30T10:29:53.790+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer_discount (
        dice_rolled boolean not null,
        die1 integer not null,
        die2 integer not null,
        discount numeric(38,2),
        discount_price numeric(38,2),
        customer_id bigint unique,
        expires_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id),
        unique (customer_id, product_id)
    )
Hibernate: 
    create table customer_discount (
        dice_rolled boolean not null,
        die1 integer not null,
        die2 integer not null,
        discount numeric(38,2),
        discount_price numeric(38,2),
        customer_id bigint unique,
        expires_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id),
        unique (customer_id, product_id)
    )
2024-07-30T10:29:53.792+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer_card_details (
        card_balance numeric(38,2),
        expiration_date date,
        customer_id bigint,
        id bigint generated by default as identity,
        card_number varchar(255) unique,
        cvv varchar(255),
        primary key (id)
    )
Hibernate: 
    create table customer_card_details (
        card_balance numeric(38,2),
        expiration_date date,
        customer_id bigint,
        id bigint generated by default as identity,
        card_number varchar(255) unique,
        cvv varchar(255),
        primary key (id)
    )
2024-07-30T10:29:53.793+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table order_product (
        quantity integer not null,
        id bigint generated by default as identity,
        order_id bigint,
        product_id bigint,
        product_name varchar(255),
        primary key (id)
    )
Hibernate: 
    create table order_product (
        quantity integer not null,
        id bigint generated by default as identity,
        order_id bigint,
        product_id bigint,
        product_name varchar(255),
        primary key (id)
    )
2024-07-30T10:29:53.795+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table order_test (
        is_paid boolean not null,
        total_amount numeric(38,2),
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        status varchar(255) check (status in ('DELIVERED','PENDING','CANCEL','PAID','AWAITING')),
        primary key (id)
    )
Hibernate: 
    create table order_test (
        is_paid boolean not null,
        total_amount numeric(38,2),
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        status varchar(255) check (status in ('DELIVERED','PENDING','CANCEL','PAID','AWAITING')),
        primary key (id)
    )
2024-07-30T10:29:53.797+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table payment (
        amount numeric(38,2),
        customer_id bigint,
        id bigint generated by default as identity,
        order_id bigint,
        payment_date timestamp(6),
        payment_status varchar(255) check (payment_status in ('CREDIT_CARD','DEBIT_CARD','PAYPAL','APPLE_PAY','GOOGLE_PAY')),
        primary key (id)
    )
Hibernate: 
    create table payment (
        amount numeric(38,2),
        customer_id bigint,
        id bigint generated by default as identity,
        order_id bigint,
        payment_date timestamp(6),
        payment_status varchar(255) check (payment_status in ('CREDIT_CARD','DEBIT_CARD','PAYPAL','APPLE_PAY','GOOGLE_PAY')),
        primary key (id)
    )
2024-07-30T10:29:53.798+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table product_test (
        discount numeric(38,2),
        discount_price numeric(38,2),
        is_deleted boolean not null,
        price numeric(38,2),
        quantity integer not null,
        category_id bigint,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        description varchar(255),
        image_url varchar(255),
        name varchar(255) unique,
        primary key (id)
    )
Hibernate: 
    create table product_test (
        discount numeric(38,2),
        discount_price numeric(38,2),
        is_deleted boolean not null,
        price numeric(38,2),
        quantity integer not null,
        category_id bigint,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        description varchar(255),
        image_url varchar(255),
        name varchar(255) unique,
        primary key (id)
    )
2024-07-30T10:29:53.801+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table rating (
        rating integer,
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id)
    )
Hibernate: 
    create table rating (
        rating integer,
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id)
    )
2024-07-30T10:29:53.803+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table users_test (
        locked boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        password varchar(255) unique,
        role varchar(255) check (role in ('USER','ADMIN')),
        username varchar(255),
        primary key (id)
    )
Hibernate: 
    create table users_test (
        locked boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        password varchar(255) unique,
        role varchar(255) check (role in ('USER','ADMIN')),
        username varchar(255),
        primary key (id)
    )
2024-07-30T10:29:53.804+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table wishlist (
        created_at timestamp(6),
        customer_id bigint unique,
        id bigint generated by default as identity,
        primary key (id)
    )
Hibernate: 
    create table wishlist (
        created_at timestamp(6),
        customer_id bigint unique,
        id bigint generated by default as identity,
        primary key (id)
    )
2024-07-30T10:29:53.805+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table wishlist_item (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        wishlist_id bigint,
        primary key (id)
    )
Hibernate: 
    create table wishlist_item (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        wishlist_id bigint,
        primary key (id)
    )
2024-07-30T10:29:53.805+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer 
       add constraint FKark4ctv4ntkwoy4noakb0d8ml 
       foreign key (user_id) 
       references users_test
Hibernate: 
    alter table if exists customer 
       add constraint FKark4ctv4ntkwoy4noakb0d8ml 
       foreign key (user_id) 
       references users_test
2024-07-30T10:29:53.807+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer 
       add constraint FKpkpd7h3y46hd6mdeg7wqvpr5c 
       foreign key (wishlist_id) 
       references wishlist
Hibernate: 
    alter table if exists customer 
       add constraint FKpkpd7h3y46hd6mdeg7wqvpr5c 
       foreign key (wishlist_id) 
       references wishlist
2024-07-30T10:29:53.808+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_discount 
       add constraint FK7dkdkmoy90h1bujr1rmanu0lv 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists customer_discount 
       add constraint FK7dkdkmoy90h1bujr1rmanu0lv 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:53.809+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_discount 
       add constraint FKtrcs0xnvyl8qc2df5y7ylkjx4 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists customer_discount 
       add constraint FKtrcs0xnvyl8qc2df5y7ylkjx4 
       foreign key (product_id) 
       references product_test
2024-07-30T10:29:53.810+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_card_details 
       add constraint FKmhdwuj27irdm4944qjnk0w85n 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists customer_card_details 
       add constraint FKmhdwuj27irdm4944qjnk0w85n 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:53.811+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_product 
       add constraint FKayh03vge4huu6s586xbfsykn9 
       foreign key (order_id) 
       references order_test
Hibernate: 
    alter table if exists order_product 
       add constraint FKayh03vge4huu6s586xbfsykn9 
       foreign key (order_id) 
       references order_test
2024-07-30T10:29:53.811+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_product 
       add constraint FKo602fm657h9jspk41f4gnmx22 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists order_product 
       add constraint FKo602fm657h9jspk41f4gnmx22 
       foreign key (product_id) 
       references product_test
2024-07-30T10:29:53.814+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_test 
       add constraint FK5sdaieho0j5cyeurhq25i4cec 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists order_test 
       add constraint FK5sdaieho0j5cyeurhq25i4cec 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:53.816+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists payment 
       add constraint FKby2skjf3ov608yb6nm16b49lg 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists payment 
       add constraint FKby2skjf3ov608yb6nm16b49lg 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:53.819+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists payment 
       add constraint FKhljpso7llgtyfun73rsnkkcqp 
       foreign key (order_id) 
       references order_test
Hibernate: 
    alter table if exists payment 
       add constraint FKhljpso7llgtyfun73rsnkkcqp 
       foreign key (order_id) 
       references order_test
2024-07-30T10:29:53.820+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists product_test 
       add constraint FK2hq85enq18gwx62b83r7bmaj8 
       foreign key (category_id) 
       references category_test
Hibernate: 
    alter table if exists product_test 
       add constraint FK2hq85enq18gwx62b83r7bmaj8 
       foreign key (category_id) 
       references category_test
2024-07-30T10:29:53.821+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists rating 
       add constraint FK92d54lg7br8t0wb68h23u4jkn 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists rating 
       add constraint FK92d54lg7br8t0wb68h23u4jkn 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:53.822+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists rating 
       add constraint FKkthk5w06fdouceg1vx51u26fh 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists rating 
       add constraint FKkthk5w06fdouceg1vx51u26fh 
       foreign key (product_id) 
       references product_test
2024-07-30T10:29:53.823+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist 
       add constraint FKb6xak0rjui1rsok8ll7ln59cs 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists wishlist 
       add constraint FKb6xak0rjui1rsok8ll7ln59cs 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:53.825+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist_item 
       add constraint FK5y7uu8ej8bpj54xbke3ak4x6 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists wishlist_item 
       add constraint FK5y7uu8ej8bpj54xbke3ak4x6 
       foreign key (product_id) 
       references product_test
2024-07-30T10:29:53.841+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist_item 
       add constraint FK5iw5sajivrxnt4qjxqlgo8yb1 
       foreign key (wishlist_id) 
       references wishlist
Hibernate: 
    alter table if exists wishlist_item 
       add constraint FK5iw5sajivrxnt4qjxqlgo8yb1 
       foreign key (wishlist_id) 
       references wishlist
2024-07-30T10:29:53.848+04:00  INFO 2876 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-30T10:29:54.141+04:00  WARN 2876 --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-30T10:29:54.438+04:00  INFO 2876 --- [    Test worker] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-07-30T10:29:54.749+04:00  INFO 2876 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 15 endpoint(s) beneath base path '/actuator'
2024-07-30T10:29:54.784+04:00  INFO 2876 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1982bcf4, org.springframework.security.web.session.ForceEagerSessionCreationFilter@64a698a7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ac11010, org.springframework.security.web.context.SecurityContextHolderFilter@7850c498, org.springframework.security.web.header.HeaderWriterFilter@5b13dedb, org.springframework.web.filter.CorsFilter@7baa758, org.springframework.security.web.authentication.logout.LogoutFilter@3051c1db, com.example.springsecurity.security.JwtAuthenticationFilter@5680c2c4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@31e9961d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@642403fa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@135adbde, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bd3de47, org.springframework.security.web.session.SessionManagementFilter@28d92d82, org.springframework.security.web.access.ExceptionTranslationFilter@7d4b885, org.springframework.security.web.access.intercept.AuthorizationFilter@ed9741a]
2024-07-30T10:29:55.162+04:00  WARN 2876 --- [    Test worker] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-07-30T10:29:55.189+04:00  INFO 2876 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 55476 (http) with context path ''
2024-07-30T10:29:55.433+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : Started OrderControllerTest in 3.06 seconds (process running for 89.254)
2024-07-30T10:29:55.451+04:00  INFO 2876 --- [-auto-22-exec-1] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-30T10:29:55.451+04:00  INFO 2876 --- [-auto-22-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-30T10:29:55.453+04:00  INFO 2876 --- [-auto-22-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-07-30T10:29:55.454+04:00  INFO 2876 --- [-auto-22-exec-1] c.e.s.security.JwtAuthenticationFilter   : Checking jwt token...
2024-07-30T10:29:55.458+04:00 DEBUG 2876 --- [-auto-22-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.locked,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users_test u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.locked,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users_test u1_0 
    where
        u1_0.id=?
2024-07-30T10:29:55.460+04:00 DEBUG 2876 --- [-auto-22-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.user_id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.user_id=?
2024-07-30T10:29:55.461+04:00 DEBUG 2876 --- [-auto-22-exec-1] org.hibernate.SQL                        : 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
Hibernate: 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
2024-07-30T10:29:55.466+04:00 DEBUG 2876 --- [-auto-22-exec-1] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.created_at,
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id,
        o1_0.is_paid,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        order_test o1_0 
    left join
        customer c1_0 
            on c1_0.id=o1_0.customer_id 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        o1_0.id=?
Hibernate: 
    select
        o1_0.id,
        o1_0.created_at,
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id,
        o1_0.is_paid,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        order_test o1_0 
    left join
        customer c1_0 
            on c1_0.id=o1_0.customer_id 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        o1_0.id=?
2024-07-30T10:29:55.467+04:00 DEBUG 2876 --- [-auto-22-exec-1] org.hibernate.SQL                        : 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
Hibernate: 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
2024-07-30T10:29:55.469+04:00 DEBUG 2876 --- [-auto-22-exec-1] org.hibernate.SQL                        : 
    update
        order_test 
    set
        created_at=?,
        customer_id=?,
        is_paid=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    update
        order_test 
    set
        created_at=?,
        customer_id=?,
        is_paid=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2024-07-30T10:29:55.493+04:00  INFO 2876 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-30T10:29:55.493+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists category_test cascade 
Hibernate: 
    drop table if exists category_test cascade 
2024-07-30T10:29:55.494+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer cascade 
Hibernate: 
    drop table if exists customer cascade 
2024-07-30T10:29:55.494+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_discount cascade 
Hibernate: 
    drop table if exists customer_discount cascade 
2024-07-30T10:29:55.494+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_card_details cascade 
Hibernate: 
    drop table if exists customer_card_details cascade 
2024-07-30T10:29:55.494+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_product cascade 
Hibernate: 
    drop table if exists order_product cascade 
2024-07-30T10:29:55.494+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_test cascade 
Hibernate: 
    drop table if exists order_test cascade 
2024-07-30T10:29:55.494+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists payment cascade 
Hibernate: 
    drop table if exists payment cascade 
2024-07-30T10:29:55.494+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists product_test cascade 
Hibernate: 
    drop table if exists product_test cascade 
2024-07-30T10:29:55.494+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists rating cascade 
Hibernate: 
    drop table if exists rating cascade 
2024-07-30T10:29:55.494+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists users_test cascade 
Hibernate: 
    drop table if exists users_test cascade 
2024-07-30T10:29:55.494+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist cascade 
Hibernate: 
    drop table if exists wishlist cascade 
2024-07-30T10:29:55.494+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist_item cascade 
Hibernate: 
    drop table if exists wishlist_item cascade 
2024-07-30T10:29:55.495+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-22 - Shutdown initiated...
2024-07-30T10:29:55.496+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-22 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.3)

2024-07-30T10:29:55.654+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.11 with PID 2876 (started by mameh1 in C:\Users\mameh1\Downloads\projects\spring-security\gatewayapp)
2024-07-30T10:29:55.654+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : The following 4 profiles are active: "db", "actuator", "google", "integration"
2024-07-30T10:29:56.187+04:00  INFO 2876 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-30T10:29:56.266+04:00  INFO 2876 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78 ms. Found 12 JPA repository interfaces.
2024-07-30T10:29:56.318+04:00  INFO 2876 --- [    Test worker] o.s.cloud.context.scope.GenericScope     : BeanFactory id=fdf0a751-b714-323a-ae6a-061dba5ac89f
2024-07-30T10:29:56.356+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$LoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$LoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-07-30T10:29:56.359+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.360+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.362+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.364+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.364+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1032/0x000002791c5e3010] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.366+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.369+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'spring.cloud.loadbalancer-org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.370+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'default.org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.371+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'default.org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.371+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientFactory' of type [org.springframework.cloud.loadbalancer.support.LoadBalancerClientFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.373+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'blockingLoadBalancerClient' of type [org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.376+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerServiceInstanceCookieTransformer' of type [org.springframework.cloud.loadbalancer.core.LoadBalancerServiceInstanceCookieTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.377+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'xForwarderHeadersTransformer' of type [org.springframework.cloud.loadbalancer.blocking.XForwardedHeadersTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.378+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.379+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerRequestFactory' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerRequestFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.379+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.381+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-07-30T10:29:56.382+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.382+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:29:56.438+04:00  INFO 2876 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-07-30T10:29:56.439+04:00  INFO 2876 --- [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-30T10:29:56.439+04:00  INFO 2876 --- [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-07-30T10:29:56.524+04:00  INFO 2876 --- [    Test worker] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2024-07-30T10:29:56.525+04:00  INFO 2876 --- [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 870 ms
2024-07-30T10:29:56.643+04:00  INFO 2876 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-30T10:29:56.651+04:00  INFO 2876 --- [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-30T10:29:56.664+04:00  INFO 2876 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-30T10:29:56.666+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-23 - Starting...
2024-07-30T10:29:56.667+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-23 - Added connection conn220: url=jdbc:h2:mem:demo user=POSTGRES
2024-07-30T10:29:56.667+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-23 - Start completed.
2024-07-30T10:29:56.668+04:00  WARN 2876 --- [    Test worker] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-30T10:29:56.874+04:00  INFO 2876 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-30T10:29:56.875+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists category_test cascade 
Hibernate: 
    drop table if exists category_test cascade 
2024-07-30T10:29:56.875+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer cascade 
Hibernate: 
    drop table if exists customer cascade 
2024-07-30T10:29:56.875+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_discount cascade 
Hibernate: 
    drop table if exists customer_discount cascade 
2024-07-30T10:29:56.875+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_card_details cascade 
Hibernate: 
    drop table if exists customer_card_details cascade 
2024-07-30T10:29:56.875+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_product cascade 
Hibernate: 
    drop table if exists order_product cascade 
2024-07-30T10:29:56.875+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_test cascade 
Hibernate: 
    drop table if exists order_test cascade 
2024-07-30T10:29:56.875+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists payment cascade 
Hibernate: 
    drop table if exists payment cascade 
2024-07-30T10:29:56.875+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists product_test cascade 
Hibernate: 
    drop table if exists product_test cascade 
2024-07-30T10:29:56.875+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists rating cascade 
Hibernate: 
    drop table if exists rating cascade 
2024-07-30T10:29:56.875+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists users_test cascade 
Hibernate: 
    drop table if exists users_test cascade 
2024-07-30T10:29:56.875+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist cascade 
Hibernate: 
    drop table if exists wishlist cascade 
2024-07-30T10:29:56.875+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist_item cascade 
Hibernate: 
    drop table if exists wishlist_item cascade 
2024-07-30T10:29:56.876+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table category_test (
        is_deleted boolean not null,
        category_id bigint generated by default as identity,
        description varchar(255),
        name varchar(255),
        primary key (category_id)
    )
Hibernate: 
    create table category_test (
        is_deleted boolean not null,
        category_id bigint generated by default as identity,
        description varchar(255),
        name varchar(255),
        primary key (category_id)
    )
2024-07-30T10:29:56.877+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer (
        balance numeric(38,2),
        id bigint generated by default as identity,
        registered_at timestamp(6),
        user_id bigint unique,
        wishlist_id bigint unique,
        address varchar(255),
        name varchar(255),
        surname varchar(255),
        primary key (id)
    )
Hibernate: 
    create table customer (
        balance numeric(38,2),
        id bigint generated by default as identity,
        registered_at timestamp(6),
        user_id bigint unique,
        wishlist_id bigint unique,
        address varchar(255),
        name varchar(255),
        surname varchar(255),
        primary key (id)
    )
2024-07-30T10:29:56.878+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer_discount (
        dice_rolled boolean not null,
        die1 integer not null,
        die2 integer not null,
        discount numeric(38,2),
        discount_price numeric(38,2),
        customer_id bigint unique,
        expires_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id),
        unique (customer_id, product_id)
    )
Hibernate: 
    create table customer_discount (
        dice_rolled boolean not null,
        die1 integer not null,
        die2 integer not null,
        discount numeric(38,2),
        discount_price numeric(38,2),
        customer_id bigint unique,
        expires_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id),
        unique (customer_id, product_id)
    )
2024-07-30T10:29:56.879+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer_card_details (
        card_balance numeric(38,2),
        expiration_date date,
        customer_id bigint,
        id bigint generated by default as identity,
        card_number varchar(255) unique,
        cvv varchar(255),
        primary key (id)
    )
Hibernate: 
    create table customer_card_details (
        card_balance numeric(38,2),
        expiration_date date,
        customer_id bigint,
        id bigint generated by default as identity,
        card_number varchar(255) unique,
        cvv varchar(255),
        primary key (id)
    )
2024-07-30T10:29:56.880+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table order_product (
        quantity integer not null,
        id bigint generated by default as identity,
        order_id bigint,
        product_id bigint,
        product_name varchar(255),
        primary key (id)
    )
Hibernate: 
    create table order_product (
        quantity integer not null,
        id bigint generated by default as identity,
        order_id bigint,
        product_id bigint,
        product_name varchar(255),
        primary key (id)
    )
2024-07-30T10:29:56.880+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table order_test (
        is_paid boolean not null,
        total_amount numeric(38,2),
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        status varchar(255) check (status in ('DELIVERED','PENDING','CANCEL','PAID','AWAITING')),
        primary key (id)
    )
Hibernate: 
    create table order_test (
        is_paid boolean not null,
        total_amount numeric(38,2),
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        status varchar(255) check (status in ('DELIVERED','PENDING','CANCEL','PAID','AWAITING')),
        primary key (id)
    )
2024-07-30T10:29:56.880+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table payment (
        amount numeric(38,2),
        customer_id bigint,
        id bigint generated by default as identity,
        order_id bigint,
        payment_date timestamp(6),
        payment_status varchar(255) check (payment_status in ('CREDIT_CARD','DEBIT_CARD','PAYPAL','APPLE_PAY','GOOGLE_PAY')),
        primary key (id)
    )
Hibernate: 
    create table payment (
        amount numeric(38,2),
        customer_id bigint,
        id bigint generated by default as identity,
        order_id bigint,
        payment_date timestamp(6),
        payment_status varchar(255) check (payment_status in ('CREDIT_CARD','DEBIT_CARD','PAYPAL','APPLE_PAY','GOOGLE_PAY')),
        primary key (id)
    )
2024-07-30T10:29:56.881+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table product_test (
        discount numeric(38,2),
        discount_price numeric(38,2),
        is_deleted boolean not null,
        price numeric(38,2),
        quantity integer not null,
        category_id bigint,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        description varchar(255),
        image_url varchar(255),
        name varchar(255) unique,
        primary key (id)
    )
Hibernate: 
    create table product_test (
        discount numeric(38,2),
        discount_price numeric(38,2),
        is_deleted boolean not null,
        price numeric(38,2),
        quantity integer not null,
        category_id bigint,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        description varchar(255),
        image_url varchar(255),
        name varchar(255) unique,
        primary key (id)
    )
2024-07-30T10:29:56.883+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table rating (
        rating integer,
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id)
    )
Hibernate: 
    create table rating (
        rating integer,
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id)
    )
2024-07-30T10:29:56.885+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table users_test (
        locked boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        password varchar(255) unique,
        role varchar(255) check (role in ('USER','ADMIN')),
        username varchar(255),
        primary key (id)
    )
Hibernate: 
    create table users_test (
        locked boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        password varchar(255) unique,
        role varchar(255) check (role in ('USER','ADMIN')),
        username varchar(255),
        primary key (id)
    )
2024-07-30T10:29:56.897+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table wishlist (
        created_at timestamp(6),
        customer_id bigint unique,
        id bigint generated by default as identity,
        primary key (id)
    )
Hibernate: 
    create table wishlist (
        created_at timestamp(6),
        customer_id bigint unique,
        id bigint generated by default as identity,
        primary key (id)
    )
2024-07-30T10:29:56.901+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table wishlist_item (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        wishlist_id bigint,
        primary key (id)
    )
Hibernate: 
    create table wishlist_item (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        wishlist_id bigint,
        primary key (id)
    )
2024-07-30T10:29:56.904+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer 
       add constraint FKark4ctv4ntkwoy4noakb0d8ml 
       foreign key (user_id) 
       references users_test
Hibernate: 
    alter table if exists customer 
       add constraint FKark4ctv4ntkwoy4noakb0d8ml 
       foreign key (user_id) 
       references users_test
2024-07-30T10:29:56.904+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer 
       add constraint FKpkpd7h3y46hd6mdeg7wqvpr5c 
       foreign key (wishlist_id) 
       references wishlist
Hibernate: 
    alter table if exists customer 
       add constraint FKpkpd7h3y46hd6mdeg7wqvpr5c 
       foreign key (wishlist_id) 
       references wishlist
2024-07-30T10:29:56.905+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_discount 
       add constraint FK7dkdkmoy90h1bujr1rmanu0lv 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists customer_discount 
       add constraint FK7dkdkmoy90h1bujr1rmanu0lv 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:56.906+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_discount 
       add constraint FKtrcs0xnvyl8qc2df5y7ylkjx4 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists customer_discount 
       add constraint FKtrcs0xnvyl8qc2df5y7ylkjx4 
       foreign key (product_id) 
       references product_test
2024-07-30T10:29:56.906+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_card_details 
       add constraint FKmhdwuj27irdm4944qjnk0w85n 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists customer_card_details 
       add constraint FKmhdwuj27irdm4944qjnk0w85n 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:56.909+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_product 
       add constraint FKayh03vge4huu6s586xbfsykn9 
       foreign key (order_id) 
       references order_test
Hibernate: 
    alter table if exists order_product 
       add constraint FKayh03vge4huu6s586xbfsykn9 
       foreign key (order_id) 
       references order_test
2024-07-30T10:29:56.910+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_product 
       add constraint FKo602fm657h9jspk41f4gnmx22 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists order_product 
       add constraint FKo602fm657h9jspk41f4gnmx22 
       foreign key (product_id) 
       references product_test
2024-07-30T10:29:56.910+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_test 
       add constraint FK5sdaieho0j5cyeurhq25i4cec 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists order_test 
       add constraint FK5sdaieho0j5cyeurhq25i4cec 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:56.913+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists payment 
       add constraint FKby2skjf3ov608yb6nm16b49lg 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists payment 
       add constraint FKby2skjf3ov608yb6nm16b49lg 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:56.913+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists payment 
       add constraint FKhljpso7llgtyfun73rsnkkcqp 
       foreign key (order_id) 
       references order_test
Hibernate: 
    alter table if exists payment 
       add constraint FKhljpso7llgtyfun73rsnkkcqp 
       foreign key (order_id) 
       references order_test
2024-07-30T10:29:56.914+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists product_test 
       add constraint FK2hq85enq18gwx62b83r7bmaj8 
       foreign key (category_id) 
       references category_test
Hibernate: 
    alter table if exists product_test 
       add constraint FK2hq85enq18gwx62b83r7bmaj8 
       foreign key (category_id) 
       references category_test
2024-07-30T10:29:56.916+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists rating 
       add constraint FK92d54lg7br8t0wb68h23u4jkn 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists rating 
       add constraint FK92d54lg7br8t0wb68h23u4jkn 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:56.916+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists rating 
       add constraint FKkthk5w06fdouceg1vx51u26fh 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists rating 
       add constraint FKkthk5w06fdouceg1vx51u26fh 
       foreign key (product_id) 
       references product_test
2024-07-30T10:29:56.917+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist 
       add constraint FKb6xak0rjui1rsok8ll7ln59cs 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists wishlist 
       add constraint FKb6xak0rjui1rsok8ll7ln59cs 
       foreign key (customer_id) 
       references customer
2024-07-30T10:29:56.917+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist_item 
       add constraint FK5y7uu8ej8bpj54xbke3ak4x6 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists wishlist_item 
       add constraint FK5y7uu8ej8bpj54xbke3ak4x6 
       foreign key (product_id) 
       references product_test
2024-07-30T10:29:56.918+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist_item 
       add constraint FK5iw5sajivrxnt4qjxqlgo8yb1 
       foreign key (wishlist_id) 
       references wishlist
Hibernate: 
    alter table if exists wishlist_item 
       add constraint FK5iw5sajivrxnt4qjxqlgo8yb1 
       foreign key (wishlist_id) 
       references wishlist
2024-07-30T10:29:56.921+04:00  INFO 2876 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-30T10:29:57.301+04:00  WARN 2876 --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-30T10:29:57.639+04:00  INFO 2876 --- [    Test worker] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-07-30T10:29:58.061+04:00  INFO 2876 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 15 endpoint(s) beneath base path '/actuator'
2024-07-30T10:29:58.105+04:00  INFO 2876 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@553f0774, org.springframework.security.web.session.ForceEagerSessionCreationFilter@12456d6c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c99b2f5, org.springframework.security.web.context.SecurityContextHolderFilter@3a8a5f0d, org.springframework.security.web.header.HeaderWriterFilter@42b24b7b, org.springframework.web.filter.CorsFilter@7ee0935a, org.springframework.security.web.authentication.logout.LogoutFilter@52ae208e, com.example.springsecurity.security.JwtAuthenticationFilter@5f90225f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@71d6cd62, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e3bd32e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a302b97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53492f55, org.springframework.security.web.session.SessionManagementFilter@1253590, org.springframework.security.web.access.ExceptionTranslationFilter@2ff6143f, org.springframework.security.web.access.intercept.AuthorizationFilter@3b6d86e0]
2024-07-30T10:29:58.644+04:00  WARN 2876 --- [    Test worker] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-07-30T10:29:58.686+04:00  INFO 2876 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 55485 (http) with context path ''
2024-07-30T10:29:59.076+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : Started OrderControllerTest in 3.577 seconds (process running for 92.896)
2024-07-30T10:29:59.102+04:00  INFO 2876 --- [-auto-23-exec-1] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-30T10:29:59.102+04:00  INFO 2876 --- [-auto-23-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-30T10:29:59.104+04:00  INFO 2876 --- [-auto-23-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-07-30T10:29:59.106+04:00  INFO 2876 --- [-auto-23-exec-1] c.e.s.security.JwtAuthenticationFilter   : Checking jwt token...
2024-07-30T10:29:59.110+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.locked,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users_test u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.locked,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users_test u1_0 
    where
        u1_0.id=?
2024-07-30T10:29:59.112+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.user_id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.user_id=?
2024-07-30T10:29:59.114+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
Hibernate: 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
2024-07-30T10:29:59.181+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.id=?
2024-07-30T10:29:59.185+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
Hibernate: 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
2024-07-30T10:29:59.188+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at 
    from
        product_test p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at 
    from
        product_test p1_0 
    where
        p1_0.id=?
2024-07-30T10:29:59.192+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.category_id,
        c1_0.description,
        c1_0.is_deleted,
        c1_0.name 
    from
        category_test c1_0 
    where
        c1_0.category_id=?
Hibernate: 
    select
        c1_0.category_id,
        c1_0.description,
        c1_0.is_deleted,
        c1_0.name 
    from
        category_test c1_0 
    where
        c1_0.category_id=?
2024-07-30T10:29:59.195+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at 
    from
        product_test p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at 
    from
        product_test p1_0 
    where
        p1_0.id=?
2024-07-30T10:29:59.203+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        order_test
        (created_at, customer_id, is_paid, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        order_test
        (created_at, customer_id, is_paid, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2024-07-30T10:29:59.206+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        order_product
        (order_id, product_id, product_name, quantity, id) 
    values
        (?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        order_product
        (order_id, product_id, product_name, quantity, id) 
    values
        (?, ?, ?, ?, default)
2024-07-30T10:29:59.207+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        order_product
        (order_id, product_id, product_name, quantity, id) 
    values
        (?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        order_product
        (order_id, product_id, product_name, quantity, id) 
    values
        (?, ?, ?, ?, default)
2024-07-30T10:29:59.215+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    update
        product_test 
    set
        category_id=?,
        created_at=?,
        description=?,
        discount=?,
        discount_price=?,
        image_url=?,
        is_deleted=?,
        name=?,
        price=?,
        quantity=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    update
        product_test 
    set
        category_id=?,
        created_at=?,
        description=?,
        discount=?,
        discount_price=?,
        image_url=?,
        is_deleted=?,
        name=?,
        price=?,
        quantity=?,
        updated_at=? 
    where
        id=?
2024-07-30T10:29:59.216+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    update
        product_test 
    set
        category_id=?,
        created_at=?,
        description=?,
        discount=?,
        discount_price=?,
        image_url=?,
        is_deleted=?,
        name=?,
        price=?,
        quantity=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    update
        product_test 
    set
        category_id=?,
        created_at=?,
        description=?,
        discount=?,
        discount_price=?,
        image_url=?,
        is_deleted=?,
        name=?,
        price=?,
        quantity=?,
        updated_at=? 
    where
        id=?
2024-07-30T10:29:59.218+04:00 DEBUG 2876 --- [-auto-23-exec-1] org.hibernate.SQL                        : 
    select
        op1_0.id,
        op1_0.order_id,
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at,
        op1_0.product_name,
        op1_0.quantity 
    from
        order_product op1_0 
    left join
        order_test o1_0 
            on o1_0.id=op1_0.order_id 
    left join
        product_test p1_0 
            on p1_0.id=op1_0.product_id 
    where
        o1_0.id=?
Hibernate: 
    select
        op1_0.id,
        op1_0.order_id,
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at,
        op1_0.product_name,
        op1_0.quantity 
    from
        order_product op1_0 
    left join
        order_test o1_0 
            on o1_0.id=op1_0.order_id 
    left join
        product_test p1_0 
            on p1_0.id=op1_0.product_id 
    where
        o1_0.id=?
2024-07-30T10:29:59.270+04:00  INFO 2876 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-30T10:29:59.271+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists category_test cascade 
Hibernate: 
    drop table if exists category_test cascade 
2024-07-30T10:29:59.271+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer cascade 
Hibernate: 
    drop table if exists customer cascade 
2024-07-30T10:29:59.273+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_discount cascade 
Hibernate: 
    drop table if exists customer_discount cascade 
2024-07-30T10:29:59.273+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_card_details cascade 
Hibernate: 
    drop table if exists customer_card_details cascade 
2024-07-30T10:29:59.274+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_product cascade 
Hibernate: 
    drop table if exists order_product cascade 
2024-07-30T10:29:59.274+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_test cascade 
Hibernate: 
    drop table if exists order_test cascade 
2024-07-30T10:29:59.275+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists payment cascade 
Hibernate: 
    drop table if exists payment cascade 
2024-07-30T10:29:59.275+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists product_test cascade 
Hibernate: 
    drop table if exists product_test cascade 
2024-07-30T10:29:59.276+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists rating cascade 
Hibernate: 
    drop table if exists rating cascade 
2024-07-30T10:29:59.277+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists users_test cascade 
Hibernate: 
    drop table if exists users_test cascade 
2024-07-30T10:29:59.277+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist cascade 
Hibernate: 
    drop table if exists wishlist cascade 
2024-07-30T10:29:59.277+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist_item cascade 
Hibernate: 
    drop table if exists wishlist_item cascade 
2024-07-30T10:29:59.278+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-23 - Shutdown initiated...
2024-07-30T10:29:59.280+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-23 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.3)

2024-07-30T10:29:59.583+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.11 with PID 2876 (started by mameh1 in C:\Users\mameh1\Downloads\projects\spring-security\gatewayapp)
2024-07-30T10:29:59.584+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : The following 4 profiles are active: "db", "actuator", "google", "integration"
2024-07-30T10:30:00.337+04:00  INFO 2876 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-30T10:30:00.430+04:00  INFO 2876 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 93 ms. Found 12 JPA repository interfaces.
2024-07-30T10:30:00.493+04:00  INFO 2876 --- [    Test worker] o.s.cloud.context.scope.GenericScope     : BeanFactory id=fdf0a751-b714-323a-ae6a-061dba5ac89f
2024-07-30T10:30:00.525+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$LoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$LoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-07-30T10:30:00.528+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.530+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.532+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.533+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.534+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1032/0x000002791c5e3010] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.537+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.541+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'spring.cloud.loadbalancer-org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.544+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'default.org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.546+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'default.org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.546+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientFactory' of type [org.springframework.cloud.loadbalancer.support.LoadBalancerClientFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.548+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'blockingLoadBalancerClient' of type [org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.553+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerServiceInstanceCookieTransformer' of type [org.springframework.cloud.loadbalancer.core.LoadBalancerServiceInstanceCookieTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.554+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'xForwarderHeadersTransformer' of type [org.springframework.cloud.loadbalancer.blocking.XForwardedHeadersTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.556+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.558+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerRequestFactory' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerRequestFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.558+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.560+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-07-30T10:30:00.562+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.563+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:00.646+04:00  INFO 2876 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-07-30T10:30:00.647+04:00  INFO 2876 --- [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-30T10:30:00.647+04:00  INFO 2876 --- [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-07-30T10:30:00.719+04:00  INFO 2876 --- [    Test worker] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2024-07-30T10:30:00.719+04:00  INFO 2876 --- [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1132 ms
2024-07-30T10:30:00.893+04:00  INFO 2876 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-30T10:30:00.905+04:00  INFO 2876 --- [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-30T10:30:00.921+04:00  INFO 2876 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-30T10:30:00.923+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-24 - Starting...
2024-07-30T10:30:00.925+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-24 - Added connection conn230: url=jdbc:h2:mem:demo user=POSTGRES
2024-07-30T10:30:00.925+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-24 - Start completed.
2024-07-30T10:30:00.926+04:00  WARN 2876 --- [    Test worker] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-30T10:30:01.158+04:00  INFO 2876 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-30T10:30:01.159+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists category_test cascade 
Hibernate: 
    drop table if exists category_test cascade 
2024-07-30T10:30:01.160+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer cascade 
Hibernate: 
    drop table if exists customer cascade 
2024-07-30T10:30:01.160+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_discount cascade 
Hibernate: 
    drop table if exists customer_discount cascade 
2024-07-30T10:30:01.160+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_card_details cascade 
Hibernate: 
    drop table if exists customer_card_details cascade 
2024-07-30T10:30:01.161+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_product cascade 
Hibernate: 
    drop table if exists order_product cascade 
2024-07-30T10:30:01.161+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_test cascade 
Hibernate: 
    drop table if exists order_test cascade 
2024-07-30T10:30:01.161+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists payment cascade 
Hibernate: 
    drop table if exists payment cascade 
2024-07-30T10:30:01.161+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists product_test cascade 
Hibernate: 
    drop table if exists product_test cascade 
2024-07-30T10:30:01.161+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists rating cascade 
Hibernate: 
    drop table if exists rating cascade 
2024-07-30T10:30:01.161+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists users_test cascade 
Hibernate: 
    drop table if exists users_test cascade 
2024-07-30T10:30:01.161+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist cascade 
Hibernate: 
    drop table if exists wishlist cascade 
2024-07-30T10:30:01.161+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist_item cascade 
Hibernate: 
    drop table if exists wishlist_item cascade 
2024-07-30T10:30:01.161+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table category_test (
        is_deleted boolean not null,
        category_id bigint generated by default as identity,
        description varchar(255),
        name varchar(255),
        primary key (category_id)
    )
Hibernate: 
    create table category_test (
        is_deleted boolean not null,
        category_id bigint generated by default as identity,
        description varchar(255),
        name varchar(255),
        primary key (category_id)
    )
2024-07-30T10:30:01.162+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer (
        balance numeric(38,2),
        id bigint generated by default as identity,
        registered_at timestamp(6),
        user_id bigint unique,
        wishlist_id bigint unique,
        address varchar(255),
        name varchar(255),
        surname varchar(255),
        primary key (id)
    )
Hibernate: 
    create table customer (
        balance numeric(38,2),
        id bigint generated by default as identity,
        registered_at timestamp(6),
        user_id bigint unique,
        wishlist_id bigint unique,
        address varchar(255),
        name varchar(255),
        surname varchar(255),
        primary key (id)
    )
2024-07-30T10:30:01.165+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer_discount (
        dice_rolled boolean not null,
        die1 integer not null,
        die2 integer not null,
        discount numeric(38,2),
        discount_price numeric(38,2),
        customer_id bigint unique,
        expires_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id),
        unique (customer_id, product_id)
    )
Hibernate: 
    create table customer_discount (
        dice_rolled boolean not null,
        die1 integer not null,
        die2 integer not null,
        discount numeric(38,2),
        discount_price numeric(38,2),
        customer_id bigint unique,
        expires_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id),
        unique (customer_id, product_id)
    )
2024-07-30T10:30:01.167+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer_card_details (
        card_balance numeric(38,2),
        expiration_date date,
        customer_id bigint,
        id bigint generated by default as identity,
        card_number varchar(255) unique,
        cvv varchar(255),
        primary key (id)
    )
Hibernate: 
    create table customer_card_details (
        card_balance numeric(38,2),
        expiration_date date,
        customer_id bigint,
        id bigint generated by default as identity,
        card_number varchar(255) unique,
        cvv varchar(255),
        primary key (id)
    )
2024-07-30T10:30:01.169+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table order_product (
        quantity integer not null,
        id bigint generated by default as identity,
        order_id bigint,
        product_id bigint,
        product_name varchar(255),
        primary key (id)
    )
Hibernate: 
    create table order_product (
        quantity integer not null,
        id bigint generated by default as identity,
        order_id bigint,
        product_id bigint,
        product_name varchar(255),
        primary key (id)
    )
2024-07-30T10:30:01.170+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table order_test (
        is_paid boolean not null,
        total_amount numeric(38,2),
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        status varchar(255) check (status in ('DELIVERED','PENDING','CANCEL','PAID','AWAITING')),
        primary key (id)
    )
Hibernate: 
    create table order_test (
        is_paid boolean not null,
        total_amount numeric(38,2),
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        status varchar(255) check (status in ('DELIVERED','PENDING','CANCEL','PAID','AWAITING')),
        primary key (id)
    )
2024-07-30T10:30:01.171+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table payment (
        amount numeric(38,2),
        customer_id bigint,
        id bigint generated by default as identity,
        order_id bigint,
        payment_date timestamp(6),
        payment_status varchar(255) check (payment_status in ('CREDIT_CARD','DEBIT_CARD','PAYPAL','APPLE_PAY','GOOGLE_PAY')),
        primary key (id)
    )
Hibernate: 
    create table payment (
        amount numeric(38,2),
        customer_id bigint,
        id bigint generated by default as identity,
        order_id bigint,
        payment_date timestamp(6),
        payment_status varchar(255) check (payment_status in ('CREDIT_CARD','DEBIT_CARD','PAYPAL','APPLE_PAY','GOOGLE_PAY')),
        primary key (id)
    )
2024-07-30T10:30:01.172+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table product_test (
        discount numeric(38,2),
        discount_price numeric(38,2),
        is_deleted boolean not null,
        price numeric(38,2),
        quantity integer not null,
        category_id bigint,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        description varchar(255),
        image_url varchar(255),
        name varchar(255) unique,
        primary key (id)
    )
Hibernate: 
    create table product_test (
        discount numeric(38,2),
        discount_price numeric(38,2),
        is_deleted boolean not null,
        price numeric(38,2),
        quantity integer not null,
        category_id bigint,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        description varchar(255),
        image_url varchar(255),
        name varchar(255) unique,
        primary key (id)
    )
2024-07-30T10:30:01.173+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table rating (
        rating integer,
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id)
    )
Hibernate: 
    create table rating (
        rating integer,
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id)
    )
2024-07-30T10:30:01.173+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table users_test (
        locked boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        password varchar(255) unique,
        role varchar(255) check (role in ('USER','ADMIN')),
        username varchar(255),
        primary key (id)
    )
Hibernate: 
    create table users_test (
        locked boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        password varchar(255) unique,
        role varchar(255) check (role in ('USER','ADMIN')),
        username varchar(255),
        primary key (id)
    )
2024-07-30T10:30:01.175+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table wishlist (
        created_at timestamp(6),
        customer_id bigint unique,
        id bigint generated by default as identity,
        primary key (id)
    )
Hibernate: 
    create table wishlist (
        created_at timestamp(6),
        customer_id bigint unique,
        id bigint generated by default as identity,
        primary key (id)
    )
2024-07-30T10:30:01.176+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table wishlist_item (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        wishlist_id bigint,
        primary key (id)
    )
Hibernate: 
    create table wishlist_item (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        wishlist_id bigint,
        primary key (id)
    )
2024-07-30T10:30:01.176+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer 
       add constraint FKark4ctv4ntkwoy4noakb0d8ml 
       foreign key (user_id) 
       references users_test
Hibernate: 
    alter table if exists customer 
       add constraint FKark4ctv4ntkwoy4noakb0d8ml 
       foreign key (user_id) 
       references users_test
2024-07-30T10:30:01.177+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer 
       add constraint FKpkpd7h3y46hd6mdeg7wqvpr5c 
       foreign key (wishlist_id) 
       references wishlist
Hibernate: 
    alter table if exists customer 
       add constraint FKpkpd7h3y46hd6mdeg7wqvpr5c 
       foreign key (wishlist_id) 
       references wishlist
2024-07-30T10:30:01.177+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_discount 
       add constraint FK7dkdkmoy90h1bujr1rmanu0lv 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists customer_discount 
       add constraint FK7dkdkmoy90h1bujr1rmanu0lv 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:01.178+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_discount 
       add constraint FKtrcs0xnvyl8qc2df5y7ylkjx4 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists customer_discount 
       add constraint FKtrcs0xnvyl8qc2df5y7ylkjx4 
       foreign key (product_id) 
       references product_test
2024-07-30T10:30:01.179+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_card_details 
       add constraint FKmhdwuj27irdm4944qjnk0w85n 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists customer_card_details 
       add constraint FKmhdwuj27irdm4944qjnk0w85n 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:01.179+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_product 
       add constraint FKayh03vge4huu6s586xbfsykn9 
       foreign key (order_id) 
       references order_test
Hibernate: 
    alter table if exists order_product 
       add constraint FKayh03vge4huu6s586xbfsykn9 
       foreign key (order_id) 
       references order_test
2024-07-30T10:30:01.180+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_product 
       add constraint FKo602fm657h9jspk41f4gnmx22 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists order_product 
       add constraint FKo602fm657h9jspk41f4gnmx22 
       foreign key (product_id) 
       references product_test
2024-07-30T10:30:01.180+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_test 
       add constraint FK5sdaieho0j5cyeurhq25i4cec 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists order_test 
       add constraint FK5sdaieho0j5cyeurhq25i4cec 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:01.181+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists payment 
       add constraint FKby2skjf3ov608yb6nm16b49lg 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists payment 
       add constraint FKby2skjf3ov608yb6nm16b49lg 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:01.181+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists payment 
       add constraint FKhljpso7llgtyfun73rsnkkcqp 
       foreign key (order_id) 
       references order_test
Hibernate: 
    alter table if exists payment 
       add constraint FKhljpso7llgtyfun73rsnkkcqp 
       foreign key (order_id) 
       references order_test
2024-07-30T10:30:01.181+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists product_test 
       add constraint FK2hq85enq18gwx62b83r7bmaj8 
       foreign key (category_id) 
       references category_test
Hibernate: 
    alter table if exists product_test 
       add constraint FK2hq85enq18gwx62b83r7bmaj8 
       foreign key (category_id) 
       references category_test
2024-07-30T10:30:01.183+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists rating 
       add constraint FK92d54lg7br8t0wb68h23u4jkn 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists rating 
       add constraint FK92d54lg7br8t0wb68h23u4jkn 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:01.184+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists rating 
       add constraint FKkthk5w06fdouceg1vx51u26fh 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists rating 
       add constraint FKkthk5w06fdouceg1vx51u26fh 
       foreign key (product_id) 
       references product_test
2024-07-30T10:30:01.185+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist 
       add constraint FKb6xak0rjui1rsok8ll7ln59cs 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists wishlist 
       add constraint FKb6xak0rjui1rsok8ll7ln59cs 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:01.186+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist_item 
       add constraint FK5y7uu8ej8bpj54xbke3ak4x6 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists wishlist_item 
       add constraint FK5y7uu8ej8bpj54xbke3ak4x6 
       foreign key (product_id) 
       references product_test
2024-07-30T10:30:01.187+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist_item 
       add constraint FK5iw5sajivrxnt4qjxqlgo8yb1 
       foreign key (wishlist_id) 
       references wishlist
Hibernate: 
    alter table if exists wishlist_item 
       add constraint FK5iw5sajivrxnt4qjxqlgo8yb1 
       foreign key (wishlist_id) 
       references wishlist
2024-07-30T10:30:01.191+04:00  INFO 2876 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-30T10:30:01.585+04:00  WARN 2876 --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-30T10:30:01.958+04:00  INFO 2876 --- [    Test worker] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-07-30T10:30:02.382+04:00  INFO 2876 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 15 endpoint(s) beneath base path '/actuator'
2024-07-30T10:30:02.440+04:00  INFO 2876 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@22080719, org.springframework.security.web.session.ForceEagerSessionCreationFilter@3a02c3db, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@304adeb4, org.springframework.security.web.context.SecurityContextHolderFilter@605b36ff, org.springframework.security.web.header.HeaderWriterFilter@29be85dd, org.springframework.web.filter.CorsFilter@672472e0, org.springframework.security.web.authentication.logout.LogoutFilter@617f915c, com.example.springsecurity.security.JwtAuthenticationFilter@5c904c89, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@138f4009, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5765aab6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@121ceffe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f691d2, org.springframework.security.web.session.SessionManagementFilter@2a946cbc, org.springframework.security.web.access.ExceptionTranslationFilter@1f55bbec, org.springframework.security.web.access.intercept.AuthorizationFilter@3eae1526]
2024-07-30T10:30:03.014+04:00  WARN 2876 --- [    Test worker] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-07-30T10:30:03.060+04:00  INFO 2876 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 55491 (http) with context path ''
2024-07-30T10:30:03.488+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : Started OrderControllerTest in 4.202 seconds (process running for 97.308)
2024-07-30T10:30:03.509+04:00  INFO 2876 --- [-auto-24-exec-1] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-30T10:30:03.509+04:00  INFO 2876 --- [-auto-24-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-30T10:30:03.511+04:00  INFO 2876 --- [-auto-24-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-07-30T10:30:03.513+04:00  INFO 2876 --- [-auto-24-exec-1] c.e.s.security.JwtAuthenticationFilter   : Checking jwt token...
2024-07-30T10:30:03.517+04:00 DEBUG 2876 --- [-auto-24-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.locked,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users_test u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.locked,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users_test u1_0 
    where
        u1_0.id=?
2024-07-30T10:30:03.519+04:00 DEBUG 2876 --- [-auto-24-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.user_id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.user_id=?
2024-07-30T10:30:03.520+04:00 DEBUG 2876 --- [-auto-24-exec-1] org.hibernate.SQL                        : 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
Hibernate: 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
2024-07-30T10:30:03.527+04:00 DEBUG 2876 --- [-auto-24-exec-1] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.is_paid,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        order_test o1_0
Hibernate: 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.is_paid,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        order_test o1_0
2024-07-30T10:30:03.527+04:00 DEBUG 2876 --- [-auto-24-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.id=?
2024-07-30T10:30:03.528+04:00 DEBUG 2876 --- [-auto-24-exec-1] org.hibernate.SQL                        : 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
Hibernate: 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
2024-07-30T10:30:03.565+04:00  INFO 2876 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-30T10:30:03.565+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists category_test cascade 
Hibernate: 
    drop table if exists category_test cascade 
2024-07-30T10:30:03.566+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer cascade 
Hibernate: 
    drop table if exists customer cascade 
2024-07-30T10:30:03.566+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_discount cascade 
Hibernate: 
    drop table if exists customer_discount cascade 
2024-07-30T10:30:03.566+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_card_details cascade 
Hibernate: 
    drop table if exists customer_card_details cascade 
2024-07-30T10:30:03.567+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_product cascade 
Hibernate: 
    drop table if exists order_product cascade 
2024-07-30T10:30:03.567+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_test cascade 
Hibernate: 
    drop table if exists order_test cascade 
2024-07-30T10:30:03.567+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists payment cascade 
Hibernate: 
    drop table if exists payment cascade 
2024-07-30T10:30:03.567+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists product_test cascade 
Hibernate: 
    drop table if exists product_test cascade 
2024-07-30T10:30:03.568+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists rating cascade 
Hibernate: 
    drop table if exists rating cascade 
2024-07-30T10:30:03.568+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists users_test cascade 
Hibernate: 
    drop table if exists users_test cascade 
2024-07-30T10:30:03.569+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist cascade 
Hibernate: 
    drop table if exists wishlist cascade 
2024-07-30T10:30:03.569+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist_item cascade 
Hibernate: 
    drop table if exists wishlist_item cascade 
2024-07-30T10:30:03.570+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-24 - Shutdown initiated...
2024-07-30T10:30:03.571+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-24 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.3)

2024-07-30T10:30:03.836+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.11 with PID 2876 (started by mameh1 in C:\Users\mameh1\Downloads\projects\spring-security\gatewayapp)
2024-07-30T10:30:03.836+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : The following 4 profiles are active: "db", "actuator", "google", "integration"
2024-07-30T10:30:04.688+04:00  INFO 2876 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-30T10:30:04.784+04:00  INFO 2876 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 96 ms. Found 12 JPA repository interfaces.
2024-07-30T10:30:04.847+04:00  INFO 2876 --- [    Test worker] o.s.cloud.context.scope.GenericScope     : BeanFactory id=fdf0a751-b714-323a-ae6a-061dba5ac89f
2024-07-30T10:30:04.882+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$LoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$LoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-07-30T10:30:04.884+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.886+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.889+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.890+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.891+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1032/0x000002791c5e3010] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.894+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.898+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'spring.cloud.loadbalancer-org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.901+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'default.org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.902+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'default.org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.902+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientFactory' of type [org.springframework.cloud.loadbalancer.support.LoadBalancerClientFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.904+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'blockingLoadBalancerClient' of type [org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.910+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerServiceInstanceCookieTransformer' of type [org.springframework.cloud.loadbalancer.core.LoadBalancerServiceInstanceCookieTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.912+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'xForwarderHeadersTransformer' of type [org.springframework.cloud.loadbalancer.blocking.XForwardedHeadersTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.913+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.915+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerRequestFactory' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerRequestFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.916+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.919+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-07-30T10:30:04.920+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.921+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:04.988+04:00  INFO 2876 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-07-30T10:30:04.989+04:00  INFO 2876 --- [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-30T10:30:04.989+04:00  INFO 2876 --- [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-07-30T10:30:05.062+04:00  INFO 2876 --- [    Test worker] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2024-07-30T10:30:05.062+04:00  INFO 2876 --- [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1224 ms
2024-07-30T10:30:05.233+04:00  INFO 2876 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-30T10:30:05.242+04:00  INFO 2876 --- [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-30T10:30:05.258+04:00  INFO 2876 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-30T10:30:05.260+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-25 - Starting...
2024-07-30T10:30:05.261+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-25 - Added connection conn240: url=jdbc:h2:mem:demo user=POSTGRES
2024-07-30T10:30:05.262+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-25 - Start completed.
2024-07-30T10:30:05.262+04:00  WARN 2876 --- [    Test worker] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-30T10:30:05.524+04:00  INFO 2876 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-30T10:30:05.525+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists category_test cascade 
Hibernate: 
    drop table if exists category_test cascade 
2024-07-30T10:30:05.525+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer cascade 
Hibernate: 
    drop table if exists customer cascade 
2024-07-30T10:30:05.525+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_discount cascade 
Hibernate: 
    drop table if exists customer_discount cascade 
2024-07-30T10:30:05.525+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_card_details cascade 
Hibernate: 
    drop table if exists customer_card_details cascade 
2024-07-30T10:30:05.525+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_product cascade 
Hibernate: 
    drop table if exists order_product cascade 
2024-07-30T10:30:05.525+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_test cascade 
Hibernate: 
    drop table if exists order_test cascade 
2024-07-30T10:30:05.525+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists payment cascade 
Hibernate: 
    drop table if exists payment cascade 
2024-07-30T10:30:05.525+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists product_test cascade 
Hibernate: 
    drop table if exists product_test cascade 
2024-07-30T10:30:05.525+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists rating cascade 
Hibernate: 
    drop table if exists rating cascade 
2024-07-30T10:30:05.525+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists users_test cascade 
Hibernate: 
    drop table if exists users_test cascade 
2024-07-30T10:30:05.525+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist cascade 
Hibernate: 
    drop table if exists wishlist cascade 
2024-07-30T10:30:05.525+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist_item cascade 
Hibernate: 
    drop table if exists wishlist_item cascade 
2024-07-30T10:30:05.526+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table category_test (
        is_deleted boolean not null,
        category_id bigint generated by default as identity,
        description varchar(255),
        name varchar(255),
        primary key (category_id)
    )
Hibernate: 
    create table category_test (
        is_deleted boolean not null,
        category_id bigint generated by default as identity,
        description varchar(255),
        name varchar(255),
        primary key (category_id)
    )
2024-07-30T10:30:05.534+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer (
        balance numeric(38,2),
        id bigint generated by default as identity,
        registered_at timestamp(6),
        user_id bigint unique,
        wishlist_id bigint unique,
        address varchar(255),
        name varchar(255),
        surname varchar(255),
        primary key (id)
    )
Hibernate: 
    create table customer (
        balance numeric(38,2),
        id bigint generated by default as identity,
        registered_at timestamp(6),
        user_id bigint unique,
        wishlist_id bigint unique,
        address varchar(255),
        name varchar(255),
        surname varchar(255),
        primary key (id)
    )
2024-07-30T10:30:05.536+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer_discount (
        dice_rolled boolean not null,
        die1 integer not null,
        die2 integer not null,
        discount numeric(38,2),
        discount_price numeric(38,2),
        customer_id bigint unique,
        expires_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id),
        unique (customer_id, product_id)
    )
Hibernate: 
    create table customer_discount (
        dice_rolled boolean not null,
        die1 integer not null,
        die2 integer not null,
        discount numeric(38,2),
        discount_price numeric(38,2),
        customer_id bigint unique,
        expires_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id),
        unique (customer_id, product_id)
    )
2024-07-30T10:30:05.538+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer_card_details (
        card_balance numeric(38,2),
        expiration_date date,
        customer_id bigint,
        id bigint generated by default as identity,
        card_number varchar(255) unique,
        cvv varchar(255),
        primary key (id)
    )
Hibernate: 
    create table customer_card_details (
        card_balance numeric(38,2),
        expiration_date date,
        customer_id bigint,
        id bigint generated by default as identity,
        card_number varchar(255) unique,
        cvv varchar(255),
        primary key (id)
    )
2024-07-30T10:30:05.539+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table order_product (
        quantity integer not null,
        id bigint generated by default as identity,
        order_id bigint,
        product_id bigint,
        product_name varchar(255),
        primary key (id)
    )
Hibernate: 
    create table order_product (
        quantity integer not null,
        id bigint generated by default as identity,
        order_id bigint,
        product_id bigint,
        product_name varchar(255),
        primary key (id)
    )
2024-07-30T10:30:05.543+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table order_test (
        is_paid boolean not null,
        total_amount numeric(38,2),
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        status varchar(255) check (status in ('DELIVERED','PENDING','CANCEL','PAID','AWAITING')),
        primary key (id)
    )
Hibernate: 
    create table order_test (
        is_paid boolean not null,
        total_amount numeric(38,2),
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        status varchar(255) check (status in ('DELIVERED','PENDING','CANCEL','PAID','AWAITING')),
        primary key (id)
    )
2024-07-30T10:30:05.546+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table payment (
        amount numeric(38,2),
        customer_id bigint,
        id bigint generated by default as identity,
        order_id bigint,
        payment_date timestamp(6),
        payment_status varchar(255) check (payment_status in ('CREDIT_CARD','DEBIT_CARD','PAYPAL','APPLE_PAY','GOOGLE_PAY')),
        primary key (id)
    )
Hibernate: 
    create table payment (
        amount numeric(38,2),
        customer_id bigint,
        id bigint generated by default as identity,
        order_id bigint,
        payment_date timestamp(6),
        payment_status varchar(255) check (payment_status in ('CREDIT_CARD','DEBIT_CARD','PAYPAL','APPLE_PAY','GOOGLE_PAY')),
        primary key (id)
    )
2024-07-30T10:30:05.549+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table product_test (
        discount numeric(38,2),
        discount_price numeric(38,2),
        is_deleted boolean not null,
        price numeric(38,2),
        quantity integer not null,
        category_id bigint,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        description varchar(255),
        image_url varchar(255),
        name varchar(255) unique,
        primary key (id)
    )
Hibernate: 
    create table product_test (
        discount numeric(38,2),
        discount_price numeric(38,2),
        is_deleted boolean not null,
        price numeric(38,2),
        quantity integer not null,
        category_id bigint,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        description varchar(255),
        image_url varchar(255),
        name varchar(255) unique,
        primary key (id)
    )
2024-07-30T10:30:05.553+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table rating (
        rating integer,
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id)
    )
Hibernate: 
    create table rating (
        rating integer,
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id)
    )
2024-07-30T10:30:05.554+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table users_test (
        locked boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        password varchar(255) unique,
        role varchar(255) check (role in ('USER','ADMIN')),
        username varchar(255),
        primary key (id)
    )
Hibernate: 
    create table users_test (
        locked boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        password varchar(255) unique,
        role varchar(255) check (role in ('USER','ADMIN')),
        username varchar(255),
        primary key (id)
    )
2024-07-30T10:30:05.556+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table wishlist (
        created_at timestamp(6),
        customer_id bigint unique,
        id bigint generated by default as identity,
        primary key (id)
    )
Hibernate: 
    create table wishlist (
        created_at timestamp(6),
        customer_id bigint unique,
        id bigint generated by default as identity,
        primary key (id)
    )
2024-07-30T10:30:05.558+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table wishlist_item (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        wishlist_id bigint,
        primary key (id)
    )
Hibernate: 
    create table wishlist_item (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        wishlist_id bigint,
        primary key (id)
    )
2024-07-30T10:30:05.559+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer 
       add constraint FKark4ctv4ntkwoy4noakb0d8ml 
       foreign key (user_id) 
       references users_test
Hibernate: 
    alter table if exists customer 
       add constraint FKark4ctv4ntkwoy4noakb0d8ml 
       foreign key (user_id) 
       references users_test
2024-07-30T10:30:05.562+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer 
       add constraint FKpkpd7h3y46hd6mdeg7wqvpr5c 
       foreign key (wishlist_id) 
       references wishlist
Hibernate: 
    alter table if exists customer 
       add constraint FKpkpd7h3y46hd6mdeg7wqvpr5c 
       foreign key (wishlist_id) 
       references wishlist
2024-07-30T10:30:05.563+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_discount 
       add constraint FK7dkdkmoy90h1bujr1rmanu0lv 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists customer_discount 
       add constraint FK7dkdkmoy90h1bujr1rmanu0lv 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:05.566+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_discount 
       add constraint FKtrcs0xnvyl8qc2df5y7ylkjx4 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists customer_discount 
       add constraint FKtrcs0xnvyl8qc2df5y7ylkjx4 
       foreign key (product_id) 
       references product_test
2024-07-30T10:30:05.567+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_card_details 
       add constraint FKmhdwuj27irdm4944qjnk0w85n 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists customer_card_details 
       add constraint FKmhdwuj27irdm4944qjnk0w85n 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:05.569+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_product 
       add constraint FKayh03vge4huu6s586xbfsykn9 
       foreign key (order_id) 
       references order_test
Hibernate: 
    alter table if exists order_product 
       add constraint FKayh03vge4huu6s586xbfsykn9 
       foreign key (order_id) 
       references order_test
2024-07-30T10:30:05.570+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_product 
       add constraint FKo602fm657h9jspk41f4gnmx22 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists order_product 
       add constraint FKo602fm657h9jspk41f4gnmx22 
       foreign key (product_id) 
       references product_test
2024-07-30T10:30:05.571+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_test 
       add constraint FK5sdaieho0j5cyeurhq25i4cec 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists order_test 
       add constraint FK5sdaieho0j5cyeurhq25i4cec 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:05.572+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists payment 
       add constraint FKby2skjf3ov608yb6nm16b49lg 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists payment 
       add constraint FKby2skjf3ov608yb6nm16b49lg 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:05.574+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists payment 
       add constraint FKhljpso7llgtyfun73rsnkkcqp 
       foreign key (order_id) 
       references order_test
Hibernate: 
    alter table if exists payment 
       add constraint FKhljpso7llgtyfun73rsnkkcqp 
       foreign key (order_id) 
       references order_test
2024-07-30T10:30:05.576+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists product_test 
       add constraint FK2hq85enq18gwx62b83r7bmaj8 
       foreign key (category_id) 
       references category_test
Hibernate: 
    alter table if exists product_test 
       add constraint FK2hq85enq18gwx62b83r7bmaj8 
       foreign key (category_id) 
       references category_test
2024-07-30T10:30:05.577+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists rating 
       add constraint FK92d54lg7br8t0wb68h23u4jkn 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists rating 
       add constraint FK92d54lg7br8t0wb68h23u4jkn 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:05.578+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists rating 
       add constraint FKkthk5w06fdouceg1vx51u26fh 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists rating 
       add constraint FKkthk5w06fdouceg1vx51u26fh 
       foreign key (product_id) 
       references product_test
2024-07-30T10:30:05.580+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist 
       add constraint FKb6xak0rjui1rsok8ll7ln59cs 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists wishlist 
       add constraint FKb6xak0rjui1rsok8ll7ln59cs 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:05.580+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist_item 
       add constraint FK5y7uu8ej8bpj54xbke3ak4x6 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists wishlist_item 
       add constraint FK5y7uu8ej8bpj54xbke3ak4x6 
       foreign key (product_id) 
       references product_test
2024-07-30T10:30:05.581+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist_item 
       add constraint FK5iw5sajivrxnt4qjxqlgo8yb1 
       foreign key (wishlist_id) 
       references wishlist
Hibernate: 
    alter table if exists wishlist_item 
       add constraint FK5iw5sajivrxnt4qjxqlgo8yb1 
       foreign key (wishlist_id) 
       references wishlist
2024-07-30T10:30:05.585+04:00  INFO 2876 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-30T10:30:05.990+04:00  WARN 2876 --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-30T10:30:06.405+04:00  INFO 2876 --- [    Test worker] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-07-30T10:30:06.797+04:00  INFO 2876 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 15 endpoint(s) beneath base path '/actuator'
2024-07-30T10:30:06.831+04:00  INFO 2876 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@68ced224, org.springframework.security.web.session.ForceEagerSessionCreationFilter@526ca50c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@535579d2, org.springframework.security.web.context.SecurityContextHolderFilter@626c2e00, org.springframework.security.web.header.HeaderWriterFilter@8c71eed, org.springframework.web.filter.CorsFilter@4dfd61a4, org.springframework.security.web.authentication.logout.LogoutFilter@4dabfc46, com.example.springsecurity.security.JwtAuthenticationFilter@1f1d9262, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6dcafa53, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26ddf45d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6dc24734, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53bcc5cd, org.springframework.security.web.session.SessionManagementFilter@2e25cfe6, org.springframework.security.web.access.ExceptionTranslationFilter@41e8c77, org.springframework.security.web.access.intercept.AuthorizationFilter@3d31b807]
2024-07-30T10:30:07.255+04:00  WARN 2876 --- [    Test worker] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-07-30T10:30:07.283+04:00  INFO 2876 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 55498 (http) with context path ''
2024-07-30T10:30:07.725+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : Started OrderControllerTest in 4.149 seconds (process running for 101.545)
Sending POST request to: /orders/makeOrderForDiscountedProduct?customerId=2&productId=2
2024-07-30T10:30:07.753+04:00  INFO 2876 --- [-auto-25-exec-1] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-30T10:30:07.753+04:00  INFO 2876 --- [-auto-25-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-30T10:30:07.755+04:00  INFO 2876 --- [-auto-25-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-07-30T10:30:07.756+04:00  INFO 2876 --- [-auto-25-exec-1] c.e.s.security.JwtAuthenticationFilter   : Checking jwt token...
2024-07-30T10:30:07.761+04:00 DEBUG 2876 --- [-auto-25-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.locked,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users_test u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.locked,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users_test u1_0 
    where
        u1_0.id=?
2024-07-30T10:30:07.763+04:00 DEBUG 2876 --- [-auto-25-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.user_id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.user_id=?
2024-07-30T10:30:07.766+04:00 DEBUG 2876 --- [-auto-25-exec-1] org.hibernate.SQL                        : 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
Hibernate: 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
2024-07-30T10:30:07.779+04:00 DEBUG 2876 --- [-auto-25-exec-1] org.hibernate.SQL                        : 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    left join
        customer c1_0 
            on c1_0.id=cd1_0.customer_id 
    where
        c1_0.id=? 
        and cd1_0.discount_price is not null 
    fetch
        first ? rows only
Hibernate: 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    left join
        customer c1_0 
            on c1_0.id=cd1_0.customer_id 
    where
        c1_0.id=? 
        and cd1_0.discount_price is not null 
    fetch
        first ? rows only
2024-07-30T10:30:07.782+04:00 DEBUG 2876 --- [-auto-25-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at 
    from
        product_test p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at 
    from
        product_test p1_0 
    where
        p1_0.id=?
2024-07-30T10:30:07.785+04:00 DEBUG 2876 --- [-auto-25-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.id=?
2024-07-30T10:30:07.786+04:00 DEBUG 2876 --- [-auto-25-exec-1] org.hibernate.SQL                        : 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
Hibernate: 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
2024-07-30T10:30:07.788+04:00 DEBUG 2876 --- [-auto-25-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.category_id,
        c1_0.description,
        c1_0.is_deleted,
        c1_0.name 
    from
        category_test c1_0 
    where
        c1_0.category_id=?
Hibernate: 
    select
        c1_0.category_id,
        c1_0.description,
        c1_0.is_deleted,
        c1_0.name 
    from
        category_test c1_0 
    where
        c1_0.category_id=?
2024-07-30T10:30:07.791+04:00 DEBUG 2876 --- [-auto-25-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        order_product
        (order_id, product_id, product_name, quantity, id) 
    values
        (?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        order_product
        (order_id, product_id, product_name, quantity, id) 
    values
        (?, ?, ?, ?, default)
2024-07-30T10:30:07.793+04:00 DEBUG 2876 --- [-auto-25-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        order_test
        (created_at, customer_id, is_paid, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        order_test
        (created_at, customer_id, is_paid, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2024-07-30T10:30:07.796+04:00 DEBUG 2876 --- [-auto-25-exec-1] org.hibernate.SQL                        : 
    update
        product_test 
    set
        category_id=?,
        created_at=?,
        description=?,
        discount=?,
        discount_price=?,
        image_url=?,
        is_deleted=?,
        name=?,
        price=?,
        quantity=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    update
        product_test 
    set
        category_id=?,
        created_at=?,
        description=?,
        discount=?,
        discount_price=?,
        image_url=?,
        is_deleted=?,
        name=?,
        price=?,
        quantity=?,
        updated_at=? 
    where
        id=?
2024-07-30T10:30:07.797+04:00 DEBUG 2876 --- [-auto-25-exec-1] org.hibernate.SQL                        : 
    update
        order_product 
    set
        order_id=?,
        product_id=?,
        product_name=?,
        quantity=? 
    where
        id=?
Hibernate: 
    update
        order_product 
    set
        order_id=?,
        product_id=?,
        product_name=?,
        quantity=? 
    where
        id=?
2024-07-30T10:30:07.798+04:00 DEBUG 2876 --- [-auto-25-exec-1] org.hibernate.SQL                        : 
    select
        op1_0.id,
        op1_0.order_id,
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at,
        op1_0.product_name,
        op1_0.quantity 
    from
        order_product op1_0 
    left join
        order_test o1_0 
            on o1_0.id=op1_0.order_id 
    left join
        product_test p1_0 
            on p1_0.id=op1_0.product_id 
    where
        o1_0.id=?
Hibernate: 
    select
        op1_0.id,
        op1_0.order_id,
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at,
        op1_0.product_name,
        op1_0.quantity 
    from
        order_product op1_0 
    left join
        order_test o1_0 
            on o1_0.id=op1_0.order_id 
    left join
        product_test p1_0 
            on p1_0.id=op1_0.product_id 
    where
        o1_0.id=?
2024-07-30T10:30:07.827+04:00  INFO 2876 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-30T10:30:07.827+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists category_test cascade 
Hibernate: 
    drop table if exists category_test cascade 
2024-07-30T10:30:07.827+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer cascade 
Hibernate: 
    drop table if exists customer cascade 
2024-07-30T10:30:07.828+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_discount cascade 
Hibernate: 
    drop table if exists customer_discount cascade 
2024-07-30T10:30:07.828+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_card_details cascade 
Hibernate: 
    drop table if exists customer_card_details cascade 
2024-07-30T10:30:07.828+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_product cascade 
Hibernate: 
    drop table if exists order_product cascade 
2024-07-30T10:30:07.828+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_test cascade 
Hibernate: 
    drop table if exists order_test cascade 
2024-07-30T10:30:07.828+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists payment cascade 
Hibernate: 
    drop table if exists payment cascade 
2024-07-30T10:30:07.828+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists product_test cascade 
Hibernate: 
    drop table if exists product_test cascade 
2024-07-30T10:30:07.828+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists rating cascade 
Hibernate: 
    drop table if exists rating cascade 
2024-07-30T10:30:07.828+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists users_test cascade 
Hibernate: 
    drop table if exists users_test cascade 
2024-07-30T10:30:07.828+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist cascade 
Hibernate: 
    drop table if exists wishlist cascade 
2024-07-30T10:30:07.828+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist_item cascade 
Hibernate: 
    drop table if exists wishlist_item cascade 
2024-07-30T10:30:07.830+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-25 - Shutdown initiated...
2024-07-30T10:30:07.830+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-25 - Shutdown completed.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.3)

2024-07-30T10:30:08.042+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : Starting OrderControllerTest using Java 17.0.11 with PID 2876 (started by mameh1 in C:\Users\mameh1\Downloads\projects\spring-security\gatewayapp)
2024-07-30T10:30:08.042+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : The following 4 profiles are active: "db", "actuator", "google", "integration"
2024-07-30T10:30:08.576+04:00  INFO 2876 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-30T10:30:08.657+04:00  INFO 2876 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 80 ms. Found 12 JPA repository interfaces.
2024-07-30T10:30:08.700+04:00  INFO 2876 --- [    Test worker] o.s.cloud.context.scope.GenericScope     : BeanFactory id=fdf0a751-b714-323a-ae6a-061dba5ac89f
2024-07-30T10:30:08.725+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$LoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$LoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-07-30T10:30:08.725+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.728+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.729+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.730+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.731+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1032/0x000002791c5e3010] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.732+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.734+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'spring.cloud.loadbalancer-org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.736+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'default.org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.737+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'default.org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.737+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientFactory' of type [org.springframework.cloud.loadbalancer.support.LoadBalancerClientFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.738+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'blockingLoadBalancerClient' of type [org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.741+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerServiceInstanceCookieTransformer' of type [org.springframework.cloud.loadbalancer.core.LoadBalancerServiceInstanceCookieTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.743+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'xForwarderHeadersTransformer' of type [org.springframework.cloud.loadbalancer.blocking.XForwardedHeadersTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.744+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.746+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerRequestFactory' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerRequestFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.746+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.749+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-07-30T10:30:08.750+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.751+04:00  WARN 2876 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2024-07-30T10:30:08.818+04:00  INFO 2876 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2024-07-30T10:30:08.818+04:00  INFO 2876 --- [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-07-30T10:30:08.818+04:00  INFO 2876 --- [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-07-30T10:30:08.881+04:00  INFO 2876 --- [    Test worker] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2024-07-30T10:30:08.881+04:00  INFO 2876 --- [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 837 ms
2024-07-30T10:30:08.988+04:00  INFO 2876 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-30T10:30:08.995+04:00  INFO 2876 --- [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-07-30T10:30:09.005+04:00  INFO 2876 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-07-30T10:30:09.007+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-26 - Starting...
2024-07-30T10:30:09.008+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-26 - Added connection conn250: url=jdbc:h2:mem:demo user=POSTGRES
2024-07-30T10:30:09.008+04:00  INFO 2876 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-26 - Start completed.
2024-07-30T10:30:09.008+04:00  WARN 2876 --- [    Test worker] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-07-30T10:30:09.232+04:00  INFO 2876 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-07-30T10:30:09.233+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists category_test cascade 
Hibernate: 
    drop table if exists category_test cascade 
2024-07-30T10:30:09.233+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer cascade 
Hibernate: 
    drop table if exists customer cascade 
2024-07-30T10:30:09.233+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_discount cascade 
Hibernate: 
    drop table if exists customer_discount cascade 
2024-07-30T10:30:09.233+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists customer_card_details cascade 
Hibernate: 
    drop table if exists customer_card_details cascade 
2024-07-30T10:30:09.233+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_product cascade 
Hibernate: 
    drop table if exists order_product cascade 
2024-07-30T10:30:09.234+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists order_test cascade 
Hibernate: 
    drop table if exists order_test cascade 
2024-07-30T10:30:09.234+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists payment cascade 
Hibernate: 
    drop table if exists payment cascade 
2024-07-30T10:30:09.234+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists product_test cascade 
Hibernate: 
    drop table if exists product_test cascade 
2024-07-30T10:30:09.234+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists rating cascade 
Hibernate: 
    drop table if exists rating cascade 
2024-07-30T10:30:09.234+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists users_test cascade 
Hibernate: 
    drop table if exists users_test cascade 
2024-07-30T10:30:09.234+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist cascade 
Hibernate: 
    drop table if exists wishlist cascade 
2024-07-30T10:30:09.234+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists wishlist_item cascade 
Hibernate: 
    drop table if exists wishlist_item cascade 
2024-07-30T10:30:09.234+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table category_test (
        is_deleted boolean not null,
        category_id bigint generated by default as identity,
        description varchar(255),
        name varchar(255),
        primary key (category_id)
    )
Hibernate: 
    create table category_test (
        is_deleted boolean not null,
        category_id bigint generated by default as identity,
        description varchar(255),
        name varchar(255),
        primary key (category_id)
    )
2024-07-30T10:30:09.236+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer (
        balance numeric(38,2),
        id bigint generated by default as identity,
        registered_at timestamp(6),
        user_id bigint unique,
        wishlist_id bigint unique,
        address varchar(255),
        name varchar(255),
        surname varchar(255),
        primary key (id)
    )
Hibernate: 
    create table customer (
        balance numeric(38,2),
        id bigint generated by default as identity,
        registered_at timestamp(6),
        user_id bigint unique,
        wishlist_id bigint unique,
        address varchar(255),
        name varchar(255),
        surname varchar(255),
        primary key (id)
    )
2024-07-30T10:30:09.238+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer_discount (
        dice_rolled boolean not null,
        die1 integer not null,
        die2 integer not null,
        discount numeric(38,2),
        discount_price numeric(38,2),
        customer_id bigint unique,
        expires_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id),
        unique (customer_id, product_id)
    )
Hibernate: 
    create table customer_discount (
        dice_rolled boolean not null,
        die1 integer not null,
        die2 integer not null,
        discount numeric(38,2),
        discount_price numeric(38,2),
        customer_id bigint unique,
        expires_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id),
        unique (customer_id, product_id)
    )
2024-07-30T10:30:09.241+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table customer_card_details (
        card_balance numeric(38,2),
        expiration_date date,
        customer_id bigint,
        id bigint generated by default as identity,
        card_number varchar(255) unique,
        cvv varchar(255),
        primary key (id)
    )
Hibernate: 
    create table customer_card_details (
        card_balance numeric(38,2),
        expiration_date date,
        customer_id bigint,
        id bigint generated by default as identity,
        card_number varchar(255) unique,
        cvv varchar(255),
        primary key (id)
    )
2024-07-30T10:30:09.242+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table order_product (
        quantity integer not null,
        id bigint generated by default as identity,
        order_id bigint,
        product_id bigint,
        product_name varchar(255),
        primary key (id)
    )
Hibernate: 
    create table order_product (
        quantity integer not null,
        id bigint generated by default as identity,
        order_id bigint,
        product_id bigint,
        product_name varchar(255),
        primary key (id)
    )
2024-07-30T10:30:09.243+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table order_test (
        is_paid boolean not null,
        total_amount numeric(38,2),
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        status varchar(255) check (status in ('DELIVERED','PENDING','CANCEL','PAID','AWAITING')),
        primary key (id)
    )
Hibernate: 
    create table order_test (
        is_paid boolean not null,
        total_amount numeric(38,2),
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        status varchar(255) check (status in ('DELIVERED','PENDING','CANCEL','PAID','AWAITING')),
        primary key (id)
    )
2024-07-30T10:30:09.244+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table payment (
        amount numeric(38,2),
        customer_id bigint,
        id bigint generated by default as identity,
        order_id bigint,
        payment_date timestamp(6),
        payment_status varchar(255) check (payment_status in ('CREDIT_CARD','DEBIT_CARD','PAYPAL','APPLE_PAY','GOOGLE_PAY')),
        primary key (id)
    )
Hibernate: 
    create table payment (
        amount numeric(38,2),
        customer_id bigint,
        id bigint generated by default as identity,
        order_id bigint,
        payment_date timestamp(6),
        payment_status varchar(255) check (payment_status in ('CREDIT_CARD','DEBIT_CARD','PAYPAL','APPLE_PAY','GOOGLE_PAY')),
        primary key (id)
    )
2024-07-30T10:30:09.246+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table product_test (
        discount numeric(38,2),
        discount_price numeric(38,2),
        is_deleted boolean not null,
        price numeric(38,2),
        quantity integer not null,
        category_id bigint,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        description varchar(255),
        image_url varchar(255),
        name varchar(255) unique,
        primary key (id)
    )
Hibernate: 
    create table product_test (
        discount numeric(38,2),
        discount_price numeric(38,2),
        is_deleted boolean not null,
        price numeric(38,2),
        quantity integer not null,
        category_id bigint,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        description varchar(255),
        image_url varchar(255),
        name varchar(255) unique,
        primary key (id)
    )
2024-07-30T10:30:09.247+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table rating (
        rating integer,
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id)
    )
Hibernate: 
    create table rating (
        rating integer,
        created_at timestamp(6),
        customer_id bigint,
        id bigint generated by default as identity,
        product_id bigint,
        primary key (id)
    )
2024-07-30T10:30:09.248+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table users_test (
        locked boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        password varchar(255) unique,
        role varchar(255) check (role in ('USER','ADMIN')),
        username varchar(255),
        primary key (id)
    )
Hibernate: 
    create table users_test (
        locked boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        password varchar(255) unique,
        role varchar(255) check (role in ('USER','ADMIN')),
        username varchar(255),
        primary key (id)
    )
2024-07-30T10:30:09.249+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table wishlist (
        created_at timestamp(6),
        customer_id bigint unique,
        id bigint generated by default as identity,
        primary key (id)
    )
Hibernate: 
    create table wishlist (
        created_at timestamp(6),
        customer_id bigint unique,
        id bigint generated by default as identity,
        primary key (id)
    )
2024-07-30T10:30:09.250+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    create table wishlist_item (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        wishlist_id bigint,
        primary key (id)
    )
Hibernate: 
    create table wishlist_item (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint,
        wishlist_id bigint,
        primary key (id)
    )
2024-07-30T10:30:09.251+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer 
       add constraint FKark4ctv4ntkwoy4noakb0d8ml 
       foreign key (user_id) 
       references users_test
Hibernate: 
    alter table if exists customer 
       add constraint FKark4ctv4ntkwoy4noakb0d8ml 
       foreign key (user_id) 
       references users_test
2024-07-30T10:30:09.252+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer 
       add constraint FKpkpd7h3y46hd6mdeg7wqvpr5c 
       foreign key (wishlist_id) 
       references wishlist
Hibernate: 
    alter table if exists customer 
       add constraint FKpkpd7h3y46hd6mdeg7wqvpr5c 
       foreign key (wishlist_id) 
       references wishlist
2024-07-30T10:30:09.253+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_discount 
       add constraint FK7dkdkmoy90h1bujr1rmanu0lv 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists customer_discount 
       add constraint FK7dkdkmoy90h1bujr1rmanu0lv 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:09.254+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_discount 
       add constraint FKtrcs0xnvyl8qc2df5y7ylkjx4 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists customer_discount 
       add constraint FKtrcs0xnvyl8qc2df5y7ylkjx4 
       foreign key (product_id) 
       references product_test
2024-07-30T10:30:09.257+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists customer_card_details 
       add constraint FKmhdwuj27irdm4944qjnk0w85n 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists customer_card_details 
       add constraint FKmhdwuj27irdm4944qjnk0w85n 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:09.259+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_product 
       add constraint FKayh03vge4huu6s586xbfsykn9 
       foreign key (order_id) 
       references order_test
Hibernate: 
    alter table if exists order_product 
       add constraint FKayh03vge4huu6s586xbfsykn9 
       foreign key (order_id) 
       references order_test
2024-07-30T10:30:09.260+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_product 
       add constraint FKo602fm657h9jspk41f4gnmx22 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists order_product 
       add constraint FKo602fm657h9jspk41f4gnmx22 
       foreign key (product_id) 
       references product_test
2024-07-30T10:30:09.260+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists order_test 
       add constraint FK5sdaieho0j5cyeurhq25i4cec 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists order_test 
       add constraint FK5sdaieho0j5cyeurhq25i4cec 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:09.261+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists payment 
       add constraint FKby2skjf3ov608yb6nm16b49lg 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists payment 
       add constraint FKby2skjf3ov608yb6nm16b49lg 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:09.261+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists payment 
       add constraint FKhljpso7llgtyfun73rsnkkcqp 
       foreign key (order_id) 
       references order_test
Hibernate: 
    alter table if exists payment 
       add constraint FKhljpso7llgtyfun73rsnkkcqp 
       foreign key (order_id) 
       references order_test
2024-07-30T10:30:09.262+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists product_test 
       add constraint FK2hq85enq18gwx62b83r7bmaj8 
       foreign key (category_id) 
       references category_test
Hibernate: 
    alter table if exists product_test 
       add constraint FK2hq85enq18gwx62b83r7bmaj8 
       foreign key (category_id) 
       references category_test
2024-07-30T10:30:09.262+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists rating 
       add constraint FK92d54lg7br8t0wb68h23u4jkn 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists rating 
       add constraint FK92d54lg7br8t0wb68h23u4jkn 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:09.263+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists rating 
       add constraint FKkthk5w06fdouceg1vx51u26fh 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists rating 
       add constraint FKkthk5w06fdouceg1vx51u26fh 
       foreign key (product_id) 
       references product_test
2024-07-30T10:30:09.263+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist 
       add constraint FKb6xak0rjui1rsok8ll7ln59cs 
       foreign key (customer_id) 
       references customer
Hibernate: 
    alter table if exists wishlist 
       add constraint FKb6xak0rjui1rsok8ll7ln59cs 
       foreign key (customer_id) 
       references customer
2024-07-30T10:30:09.264+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist_item 
       add constraint FK5y7uu8ej8bpj54xbke3ak4x6 
       foreign key (product_id) 
       references product_test
Hibernate: 
    alter table if exists wishlist_item 
       add constraint FK5y7uu8ej8bpj54xbke3ak4x6 
       foreign key (product_id) 
       references product_test
2024-07-30T10:30:09.264+04:00 DEBUG 2876 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists wishlist_item 
       add constraint FK5iw5sajivrxnt4qjxqlgo8yb1 
       foreign key (wishlist_id) 
       references wishlist
Hibernate: 
    alter table if exists wishlist_item 
       add constraint FK5iw5sajivrxnt4qjxqlgo8yb1 
       foreign key (wishlist_id) 
       references wishlist
2024-07-30T10:30:09.267+04:00  INFO 2876 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-30T10:30:09.628+04:00  WARN 2876 --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-30T10:30:10.004+04:00  INFO 2876 --- [    Test worker] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-07-30T10:30:10.428+04:00  INFO 2876 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 15 endpoint(s) beneath base path '/actuator'
2024-07-30T10:30:10.470+04:00  INFO 2876 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3ddca37c, org.springframework.security.web.session.ForceEagerSessionCreationFilter@27c387f8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4bf2c6d2, org.springframework.security.web.context.SecurityContextHolderFilter@17fcbc88, org.springframework.security.web.header.HeaderWriterFilter@4368f9cc, org.springframework.web.filter.CorsFilter@311d6bf7, org.springframework.security.web.authentication.logout.LogoutFilter@5f2d743c, com.example.springsecurity.security.JwtAuthenticationFilter@2909dc3b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@31f57e09, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7eeeece9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ed8726, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6982f9eb, org.springframework.security.web.session.SessionManagementFilter@3aae161a, org.springframework.security.web.access.ExceptionTranslationFilter@50b9c1ca, org.springframework.security.web.access.intercept.AuthorizationFilter@21845d30]
2024-07-30T10:30:11.061+04:00  WARN 2876 --- [    Test worker] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-07-30T10:30:11.095+04:00  INFO 2876 --- [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 55507 (http) with context path ''
2024-07-30T10:30:11.539+04:00  INFO 2876 --- [    Test worker] c.e.s.controller.OrderControllerTest     : Started OrderControllerTest in 3.704 seconds (process running for 105.36)
2024-07-30T10:30:11.565+04:00  INFO 2876 --- [-auto-26-exec-1] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-30T10:30:11.565+04:00  INFO 2876 --- [-auto-26-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-07-30T10:30:11.567+04:00  INFO 2876 --- [-auto-26-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-07-30T10:30:11.570+04:00  INFO 2876 --- [-auto-26-exec-1] c.e.s.security.JwtAuthenticationFilter   : Checking jwt token...
2024-07-30T10:30:11.574+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.locked,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users_test u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.locked,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users_test u1_0 
    where
        u1_0.id=?
2024-07-30T10:30:11.577+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.user_id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.user_id=?
2024-07-30T10:30:11.578+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
Hibernate: 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
2024-07-30T10:30:11.589+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.name,
        c1_0.registered_at,
        c1_0.surname,
        c1_0.user_id,
        w1_0.id,
        w1_0.created_at,
        c2_0.id,
        c2_0.address,
        c2_0.balance,
        c2_0.name,
        c2_0.registered_at,
        c2_0.surname,
        c2_0.user_id,
        c2_0.wishlist_id 
    from
        customer c1_0 
    left join
        wishlist w1_0 
            on w1_0.id=c1_0.wishlist_id 
    left join
        customer c2_0 
            on c2_0.id=w1_0.customer_id 
    where
        c1_0.id=?
2024-07-30T10:30:11.590+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
Hibernate: 
    select
        cd1_0.id,
        cd1_0.customer_id,
        cd1_0.dice_rolled,
        cd1_0.die1,
        cd1_0.die2,
        cd1_0.discount,
        cd1_0.discount_price,
        cd1_0.expires_at,
        cd1_0.product_id 
    from
        customer_discount cd1_0 
    where
        cd1_0.customer_id=?
2024-07-30T10:30:11.599+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.id,
        c1_0.card_balance,
        c1_0.card_number,
        c1_0.cvv,
        c1_0.expiration_date 
    from
        customer_card_details c1_0 
    where
        c1_0.customer_id=?
Hibernate: 
    select
        c1_0.customer_id,
        c1_0.id,
        c1_0.card_balance,
        c1_0.card_number,
        c1_0.cvv,
        c1_0.expiration_date 
    from
        customer_card_details c1_0 
    where
        c1_0.customer_id=?
2024-07-30T10:30:11.603+04:00 DEBUG 2876 --- [-auto-26-exec-1] o.h.sql.results.internal.ResultsHelper   : Collection fully initialized: [com.example.springsecurity.entity.Customer.cards#2]
2024-07-30T10:30:11.605+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at 
    from
        product_test p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at 
    from
        product_test p1_0 
    where
        p1_0.id=?
2024-07-30T10:30:11.609+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.category_id,
        c1_0.description,
        c1_0.is_deleted,
        c1_0.name 
    from
        category_test c1_0 
    where
        c1_0.category_id=?
Hibernate: 
    select
        c1_0.category_id,
        c1_0.description,
        c1_0.is_deleted,
        c1_0.name 
    from
        category_test c1_0 
    where
        c1_0.category_id=?
2024-07-30T10:30:11.610+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at 
    from
        product_test p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at 
    from
        product_test p1_0 
    where
        p1_0.id=?
2024-07-30T10:30:11.615+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        order_test
        (created_at, customer_id, is_paid, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        order_test
        (created_at, customer_id, is_paid, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2024-07-30T10:30:11.617+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        order_product
        (order_id, product_id, product_name, quantity, id) 
    values
        (?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        order_product
        (order_id, product_id, product_name, quantity, id) 
    values
        (?, ?, ?, ?, default)
2024-07-30T10:30:11.618+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        order_product
        (order_id, product_id, product_name, quantity, id) 
    values
        (?, ?, ?, ?, default)
Hibernate: 
    insert 
    into
        order_product
        (order_id, product_id, product_name, quantity, id) 
    values
        (?, ?, ?, ?, default)
2024-07-30T10:30:11.623+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    update
        product_test 
    set
        category_id=?,
        created_at=?,
        description=?,
        discount=?,
        discount_price=?,
        image_url=?,
        is_deleted=?,
        name=?,
        price=?,
        quantity=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    update
        product_test 
    set
        category_id=?,
        created_at=?,
        description=?,
        discount=?,
        discount_price=?,
        image_url=?,
        is_deleted=?,
        name=?,
        price=?,
        quantity=?,
        updated_at=? 
    where
        id=?
2024-07-30T10:30:11.624+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    update
        product_test 
    set
        category_id=?,
        created_at=?,
        description=?,
        discount=?,
        discount_price=?,
        image_url=?,
        is_deleted=?,
        name=?,
        price=?,
        quantity=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    update
        product_test 
    set
        category_id=?,
        created_at=?,
        description=?,
        discount=?,
        discount_price=?,
        image_url=?,
        is_deleted=?,
        name=?,
        price=?,
        quantity=?,
        updated_at=? 
    where
        id=?
2024-07-30T10:30:11.627+04:00 DEBUG 2876 --- [-auto-26-exec-1] org.hibernate.SQL                        : 
    select
        op1_0.id,
        op1_0.order_id,
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at,
        op1_0.product_name,
        op1_0.quantity 
    from
        order_product op1_0 
    left join
        order_test o1_0 
            on o1_0.id=op1_0.order_id 
    left join
        product_test p1_0 
            on p1_0.id=op1_0.product_id 
    where
        o1_0.id=?
Hibernate: 
    select
        op1_0.id,
        op1_0.order_id,
        p1_0.id,
        p1_0.category_id,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount,
        p1_0.discount_price,
        p1_0.image_url,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.price,
        p1_0.quantity,
        p1_0.updated_at,
        op1_0.product_name,
        op1_0.quantity 
    from
        order_product op1_0 
    left join
        order_test o1_0 
            on o1_0.id=op1_0.order_id 
    left join
        product_test p1_0 
            on p1_0.id=op1_0.product_id 
    where
        o1_0.id=?
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
